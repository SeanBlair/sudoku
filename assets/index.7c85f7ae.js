(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function t(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerpolicy&&(i.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?i.credentials="include":l.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(l){if(l.ep)return;l.ep=!0;const i=t(l);fetch(l.href,i)}})();function M(){}const Ze=e=>e;function $e(e){return e()}function Te(){return Object.create(null)}function P(e){e.forEach($e)}function Ce(e){return typeof e=="function"}function we(e,n){return e!=e?n==n:e!==n||e&&typeof e=="object"||typeof e=="function"}function qn(e){return Object.keys(e).length===0}function Xe(e){return e==null?"":e}const Ye=typeof window<"u";let Vn=Ye?()=>window.performance.now():()=>Date.now(),Se=Ye?e=>requestAnimationFrame(e):M;const Q=new Set;function en(e){Q.forEach(n=>{n.c(e)||(Q.delete(n),n.f())}),Q.size!==0&&Se(en)}function En(e){let n;return Q.size===0&&Se(en),{promise:new Promise(t=>{Q.add(n={c:e,f:t})}),abort(){Q.delete(n)}}}function g(e,n){e.appendChild(n)}function nn(e){if(!e)return document;const n=e.getRootNode?e.getRootNode():e.ownerDocument;return n&&n.host?n:e.ownerDocument}function Rn(e){const n=_("style");return An(nn(e),n),n.sheet}function An(e,n){return g(e.head||e,n),n.sheet}function V(e,n,t){e.insertBefore(n,t||null)}function x(e){e.parentNode&&e.parentNode.removeChild(e)}function ie(e,n){for(let t=0;t<e.length;t+=1)e[t]&&e[t].d(n)}function _(e){return document.createElement(e)}function W(e){return document.createTextNode(e)}function T(){return W(" ")}function ye(){return W("")}function D(e,n,t,o){return e.addEventListener(n,t,o),()=>e.removeEventListener(n,t,o)}function C(e,n,t){t==null?e.removeAttribute(n):e.getAttribute(n)!==t&&e.setAttribute(n,t)}function Nn(e){return Array.from(e.childNodes)}function ae(e,n){n=""+n,e.wholeText!==n&&(e.data=n)}function k(e,n,t){e.classList[t?"add":"remove"](n)}function Tn(e,n,{bubbles:t=!1,cancelable:o=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(e,t,o,n),l}const se=new Map;let ue=0;function zn(e){let n=5381,t=e.length;for(;t--;)n=(n<<5)-n^e.charCodeAt(t);return n>>>0}function Mn(e,n){const t={stylesheet:Rn(n),rules:{}};return se.set(e,t),t}function Ln(e,n,t,o,l,i,s,u=0){const r=16.666/o;let c=`{
`;for(let b=0;b<=1;b+=r){const L=n+(t-n)*i(b);c+=b*100+`%{${s(L,1-L)}}
`}const f=c+`100% {${s(t,1-t)}}
}`,a=`__svelte_${zn(f)}_${u}`,p=nn(e),{stylesheet:w,rules:y}=se.get(p)||Mn(p,e);y[a]||(y[a]=!0,w.insertRule(`@keyframes ${a} ${f}`,w.cssRules.length));const A=e.style.animation||"";return e.style.animation=`${A?`${A}, `:""}${a} ${o}ms linear ${l}ms 1 both`,ue+=1,a}function Gn(e,n){const t=(e.style.animation||"").split(", "),o=t.filter(n?i=>i.indexOf(n)<0:i=>i.indexOf("__svelte")===-1),l=t.length-o.length;l&&(e.style.animation=o.join(", "),ue-=l,ue||Hn())}function Hn(){Se(()=>{ue||(se.forEach(e=>{const{ownerNode:n}=e.stylesheet;n&&x(n)}),se.clear())})}let Oe;function X(e){Oe=e}function Fn(e,n){const t=e.$$.callbacks[n.type];t&&t.slice().forEach(o=>o.call(this,n))}const $=[],ze=[],ne=[],Me=[],Wn=Promise.resolve();let ge=!1;function Bn(){ge||(ge=!0,Wn.then(tn))}function re(e){ne.push(e)}const pe=new Set;let ee=0;function tn(){const e=Oe;do{for(;ee<$.length;){const n=$[ee];ee++,X(n),Pn(n.$$)}for(X(null),$.length=0,ee=0;ze.length;)ze.pop()();for(let n=0;n<ne.length;n+=1){const t=ne[n];pe.has(t)||(pe.add(t),t())}ne.length=0}while($.length);for(;Me.length;)Me.pop()();ge=!1,pe.clear(),X(e)}function Pn(e){if(e.fragment!==null){e.update(),P(e.before_update);const n=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,n),e.after_update.forEach(re)}}let Z;function Un(){return Z||(Z=Promise.resolve(),Z.then(()=>{Z=null})),Z}function Le(e,n,t){e.dispatchEvent(Tn(`${n?"intro":"outro"}${t}`))}const te=new Set;let F;function oe(){F={r:0,c:[],p:F}}function le(){F.r||P(F.c),F=F.p}function E(e,n){e&&e.i&&(te.delete(e),e.i(n))}function z(e,n,t,o){if(e&&e.o){if(te.has(e))return;te.add(e),F.c.push(()=>{te.delete(e),o&&(t&&e.d(1),o())}),e.o(n)}else o&&o()}const Dn={duration:0};function on(e,n,t){let o=n(e,t),l=!0,i;const s=F;s.r+=1;function u(){const{delay:r=0,duration:c=300,easing:f=Ze,tick:a=M,css:p}=o||Dn;p&&(i=Ln(e,1,0,c,r,f,p));const w=Vn()+r,y=w+c;re(()=>Le(e,!1,"start")),En(A=>{if(l){if(A>=y)return a(0,1),Le(e,!1,"end"),--s.r||P(s.c),!1;if(A>=w){const b=f((A-w)/c);a(1-b,b)}}return l})}return Ce(o)?Un().then(()=>{o=o(),u()}):u(),{end(r){r&&o.tick&&o.tick(1,0),l&&(i&&Gn(e,i),l=!1)}}}function ln(e){e&&e.c()}function ve(e,n,t,o){const{fragment:l,after_update:i}=e.$$;l&&l.m(n,t),o||re(()=>{const s=e.$$.on_mount.map($e).filter(Ce);e.$$.on_destroy?e.$$.on_destroy.push(...s):P(s),e.$$.on_mount=[]}),i.forEach(re)}function Ie(e,n){const t=e.$$;t.fragment!==null&&(P(t.on_destroy),t.fragment&&t.fragment.d(n),t.on_destroy=t.fragment=null,t.ctx=[])}function Qn(e,n){e.$$.dirty[0]===-1&&($.push(e),Bn(),e.$$.dirty.fill(0)),e.$$.dirty[n/31|0]|=1<<n%31}function ke(e,n,t,o,l,i,s,u=[-1]){const r=Oe;X(e);const c=e.$$={fragment:null,ctx:[],props:i,update:M,not_equal:l,bound:Te(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(r?r.$$.context:[])),callbacks:Te(),dirty:u,skip_bound:!1,root:n.target||r.$$.root};s&&s(c.root);let f=!1;if(c.ctx=t?t(e,n.props||{},(a,p,...w)=>{const y=w.length?w[0]:p;return c.ctx&&l(c.ctx[a],c.ctx[a]=y)&&(!c.skip_bound&&c.bound[a]&&c.bound[a](y),f&&Qn(e,a)),p}):[],c.update(),f=!0,P(c.before_update),c.fragment=o?o(c.ctx):!1,n.target){if(n.hydrate){const a=Nn(n.target);c.fragment&&c.fragment.l(a),a.forEach(x)}else c.fragment&&c.fragment.c();n.intro&&E(e.$$.fragment),ve(e,n.target,n.anchor,n.customElement),tn()}X(r)}class xe{$destroy(){Ie(this,1),this.$destroy=M}$on(n,t){if(!Ce(t))return M;const o=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return o.push(t),()=>{const l=o.indexOf(t);l!==-1&&o.splice(l,1)}}$set(n){this.$$set&&!qn(n)&&(this.$$.skip_bound=!0,this.$$set(n),this.$$.skip_bound=!1)}}function sn(e,{delay:n=0,duration:t=400,easing:o=Ze}={}){const l=+getComputedStyle(e).opacity;return{delay:n,duration:t,easing:o,css:i=>`opacity: ${i*l}`}}function Ge(e,n,t){const o=e.slice();return o[7]=n[t],o}function jn(e){let n,t=e[3],o=[];for(let l=0;l<t.length;l+=1)o[l]=He(Ge(e,t,l));return{c(){for(let l=0;l<o.length;l+=1)o[l].c();n=ye()},m(l,i){for(let s=0;s<o.length;s+=1)o[s].m(l,i);V(l,n,i)},p(l,i){if(i&24){t=l[3];let s;for(s=0;s<t.length;s+=1){const u=Ge(l,t,s);o[s]?o[s].p(u,i):(o[s]=He(u),o[s].c(),o[s].m(n.parentNode,n))}for(;s<o.length;s+=1)o[s].d(1);o.length=t.length}},d(l){ie(o,l),l&&x(n)}}}function Kn(e){let n,t;return{c(){n=_("span"),t=W(e[2]),C(n,"class","svelte-1a31dr7"),k(n,"highlight",e[4]===e[2])},m(o,l){V(o,n,l),g(n,t)},p(o,l){l&4&&ae(t,o[2]),l&20&&k(n,"highlight",o[4]===o[2])},d(o){o&&x(n)}}}function He(e){let n,t=e[7]+"",o;return{c(){n=_("span"),o=W(t),C(n,"class","svelte-1a31dr7"),k(n,"highlight",e[4]===e[7])},m(l,i){V(l,n,i),g(n,o)},p(l,i){i&8&&t!==(t=l[7]+"")&&ae(o,t),i&24&&k(n,"highlight",l[4]===l[7])},d(l){l&&x(n)}}}function Jn(e){let n,t,o;function l(u,r){return u[2]?Kn:jn}let i=l(e),s=i(e);return{c(){n=_("div"),s.c(),C(n,"class","svelte-1a31dr7"),k(n,"isSet",e[2]),k(n,"isSelected",e[0]),k(n,"isSiblingSelected",e[1]),k(n,"isLocked",e[5])},m(u,r){V(u,n,r),s.m(n,null),t||(o=D(n,"click",e[6]),t=!0)},p(u,[r]){i===(i=l(u))&&s?s.p(u,r):(s.d(1),s=i(u),s&&(s.c(),s.m(n,null))),r&4&&k(n,"isSet",u[2]),r&1&&k(n,"isSelected",u[0]),r&2&&k(n,"isSiblingSelected",u[1]),r&32&&k(n,"isLocked",u[5])},i:M,o:M,d(u){u&&x(n),s.d(),t=!1,o()}}}function Zn(e,n,t){let{isSelected:o}=n,{isSiblingSelected:l}=n,{value:i}=n,{options:s}=n,{numberToHighlight:u}=n,{isLocked:r}=n;function c(f){Fn.call(this,e,f)}return e.$$set=f=>{"isSelected"in f&&t(0,o=f.isSelected),"isSiblingSelected"in f&&t(1,l=f.isSiblingSelected),"value"in f&&t(2,i=f.value),"options"in f&&t(3,s=f.options),"numberToHighlight"in f&&t(4,u=f.numberToHighlight),"isLocked"in f&&t(5,r=f.isLocked)},[o,l,i,s,u,r,c]}class $n extends xe{constructor(n){super(),ke(this,n,Zn,Jn,we,{isSelected:0,isSiblingSelected:1,value:2,options:3,numberToHighlight:4,isLocked:5})}}const be="boardHistory";function Xn(){return localStorage.getItem(be)!==null}function Yn(){const e=localStorage.getItem(be);return JSON.parse(e)}function Fe(e){localStorage.setItem(be,JSON.stringify(e))}const O=[1,2,3,4,5,6,7,8,9],R=0,U="";function un(){return Array(9).fill(U)}function rn(){const e=[];for(let n=0;n<O.length;n++){const t=Array(O.length).fill(R);e.push(t)}return e}function B(e){return JSON.parse(JSON.stringify(e))}function j(e){return new Set(e).size===e.length}function cn(e){return e.sort((n,t)=>.5-Math.random())}function We(e){const n=[[1,2,3],[4,5,6],[7,8,9]],t=n,o=n,l=[];return t.forEach(i=>{o.forEach(s=>{const u=[];i.forEach(r=>{s.forEach(c=>{u.push(it(e,r,c))})}),l.push(u)})}),l}function et(e){return at(e)&&dt(e)&&mt(e)}function nt(e){const n=Array(O.length+1);for(let t=1;t<=9;t++)n[t]=ft(e,t);return n}function tt(e,n,t){return e.map(o=>o.map(l=>(l.isSelected=l.row===n&&l.column===t,l.isSiblingSelected=fn(l,qe(n,t)),l)))}function ot(e,n,t){const o=an(e);if(!(!o||o.isLocked))return t?ct(o,n):(o.value=n,o.options=un(),rt(e,o,n)),e}function lt(e){const n=an(e);return n?B(n):qe(0,0)}function it(e,n,t){const o=qe(n,t),l=st(e,n,t);return l!==R&&(o.value=l,o.isLocked=!0),o}function qe(e,n){return{row:e,column:n,value:U,isSelected:!1,isSiblingSelected:!1,options:un(),isLocked:!1}}function st(e,n,t){return e[ce(n)][ce(t)]}function fn(e,n){if(e.row===n.row&&e.column===n.column)return!1;const o=e.row===n.row,l=e.column===n.column;return o||l||ut(e,n)}function ut(e,n){const t=[[1,2,3],[4,5,6],[7,8,9]],o=t.find(i=>i.includes(e.row)),l=t.find(i=>i.includes(e.column));return o.includes(n.row)&&l.includes(n.column)}function rt(e,n,t){e.forEach(o=>{o.forEach(l=>{fn(l,n)&&(l.options[ce(t)]=U)})})}function ct(e,n){const t=ce(n);e.options[t]?e.options[t]=U:e.options[t]=n}function ce(e){return e-1}function an(e){return e.flat().find(n=>n.isSelected)}function ft(e,n){let t=O.length;return e.forEach(o=>{o.forEach(l=>{l.value===n&&t--})}),t}function at(e){const n=e.flat();for(let t=1;t<=9;t++){const o=n.filter(l=>l.row===t&&l.value!==U).map(l=>l.value);if(!j(o))return!1}return!0}function dt(e){const n=e.flat();for(let t=1;t<=9;t++){const o=n.filter(l=>l.column===t&&l.value!==U).map(l=>l.value);if(!j(o))return!1}return!0}function mt(e){return e.forEach(n=>{const t=n.filter(o=>o.value!==U);if(!j(t))return!1}),!0}function dn(e){let n=Ot(e);return _t(n),_e(n),Ct(n)||(n=pt(n)),Rt(n)}function pt(e){let n=B(e);const t=[];e:for(let o=0;o<O.length;o++)for(let l=0;l<O.length;l++){for(_e(n);!de(n);)if(t.length>0){const s=t.pop();n=s.board,o=s.rowIndex,l=s.columnIndex,_e(n)}else break e;const i=n.cellRows[o][l];Cn(i)||ht(i,o,l,n,t)}return n}function ht(e,n,t,o,l){const i=e.options.filter(u=>u!==R);if(i.length<2)throw new Error("Found a cell with less than 2 options, not sure what to do here...");const s=i[Math.floor(Math.random()*i.length)];gt(s,n,t,o,l),e.onlyOptionValue=s,mn(e,o)}function gt(e,n,t,o,l){const i=B(o),s=i.cellRows[n][t];s.options[e]=R,s.optionsCount--,s.optionsCount===1&&i.singleOptionCellCoordinates.push({rowIndex:s.rowIndex,columnIndex:s.columnIndex}),pn(e,s,i),l.push({board:i,rowIndex:n,columnIndex:t})}function _t(e){It(e),qt(e)}function de(e){return!e.hasCellWithNoOptions&&!e.hasCellThatIsOnlyOptionForMultipleValues}function Ct(e){return e.valuesCount===81}function _e(e){for(;de(e)&&wt(e);)St(e),Vt(e)}function wt(e){return e.singleOptionCellCoordinates.length>0||e.onlyOptionCellCoordinates.length>0}function St(e){for(;e.onlyOptionCellCoordinates.length>0&&de(e);){const n=e.onlyOptionCellCoordinates.shift(),t=e.cellRows[n.rowIndex][n.columnIndex];t.value||mn(t,e)}}function mn(e,n){const t=e.onlyOptionValue;On(e,t,n);const o=e.options.filter(l=>l!==t&&l!==R);Ee(e),yt(e,o,n)}function yt(e,n,t){n.forEach(o=>{pn(o,e,t)})}function pn(e,n,t){hn(e,n,t),gn(e,n,t),_n(e,n,t)}function hn(e,n,t){const o=t.rowsOptionsCounts[n.rowIndex];o[e]--,o[e]===1&&yn(e,n.rowIndex,t)}function gn(e,n,t){const o=t.columnsOptionsCounts[n.columnIndex];o[e]--,o[e]===1&&Sn(e,n.columnIndex,t)}function _n(e,n,t){const o=t.squaresOptionsCounts[n.squareIndex];o[e]--,o[e]===1&&wn(e,n.squareIndex,t)}function Ot(e){const n=()=>Array(O.length+1).fill(0),t=()=>Array(O.length).fill().map(n),o={cellRows:Array(O.length).fill().map(()=>Array()),valuesCount:0,rowsOptionsCounts:t(),columnsOptionsCounts:t(),squaresOptionsCounts:t(),singleOptionCellCoordinates:[],onlyOptionCellCoordinates:[],hasCellWithNoOptions:!1,hasCellThatIsOnlyOptionForMultipleValues:!1};return e.forEach((l,i)=>{l.forEach((s,u)=>{const r=Gt(i,u),c=vt(s,i,u,r);s!==R&&(o.valuesCount++,Ee(c)),o.cellRows[i].push(c)})}),o}function vt(e,n,t,o){return{value:e,rowIndex:n,columnIndex:t,squareIndex:o,optionsCount:0,options:Array(O.length+1).fill(0)}}function It(e){e.cellRows.forEach(n=>{n.forEach(t=>{Cn(t)||(kt(t,e),t.optionsCount===0&&(e.hasCellWithNoOptions=!0),t.optionsCount===1&&e.singleOptionCellCoordinates.push({rowIndex:t.rowIndex,columnIndex:t.columnIndex}))})})}function Cn(e){return e.value!==R}function kt(e,n){O.forEach(t=>{xt(t,e,n)&&bt(t,e,n)})}function xt(e,n,t){const o=u=>u.value===e,l=()=>t.cellRows[n.rowIndex].some(o),i=()=>t.cellRows.some(u=>o(u[n.columnIndex])),s=()=>{const u=Ae(n.squareIndex);for(let r=u.minRow;r<=u.maxRow;r++)for(let c=u.minColumn;c<=u.maxColumn;c++)if(o(t.cellRows[r][c]))return!0;return!1};return!l()&&!i()&&!s()}function bt(e,n,t){n.options[e]=e,n.optionsCount++,t.rowsOptionsCounts[n.rowIndex][e]++,t.columnsOptionsCounts[n.columnIndex][e]++,t.squaresOptionsCounts[n.squareIndex][e]++}function qt(e){e.rowsOptionsCounts.forEach((n,t)=>{he(n,t,e,yn)}),e.columnsOptionsCounts.forEach((n,t)=>{he(n,t,e,Sn)}),e.squaresOptionsCounts.forEach((n,t)=>{he(n,t,e,wn)})}function he(e,n,t,o){e.forEach((l,i)=>{l===1&&o(i,n,t)})}function wn(e,n,t){let o;const l=Ae(n);e:for(let i=l.minRow;i<=l.maxRow;i++)for(let s=l.minColumn;s<=l.maxColumn;s++){const u=t.cellRows[i][s];if(u.options&&u.options.includes(e)){o=u;break e}}Ve(e,o,t)}function Sn(e,n,t){let o;for(let l=0;l<O.length;l++){const i=t.cellRows[l][n];if(i.options&&i.options.includes(e)){o=i;break}}Ve(e,o,t)}function yn(e,n,t){const o=t.cellRows[n].find(l=>l.options&&l.options.includes(e));Ve(e,o,t)}function Ve(e,n,t){n.optionsCount===1||(n.onlyOptionValue?n.onlyOptionValue!==e&&(t.hasCellThatIsOnlyOptionForMultipleValues=!0):(n.onlyOptionValue=e,t.onlyOptionCellCoordinates.push({rowIndex:n.rowIndex,columnIndex:n.columnIndex})))}function Vt(e){for(;e.singleOptionCellCoordinates.length>0&&de(e);){const n=e.singleOptionCellCoordinates.shift(),t=e.cellRows[n.rowIndex][n.columnIndex];t.value||Et(t,e)}}function Et(e,n){const t=e.options.find(o=>o!==R);On(e,t,n),Ee(e)}function Ee(e){e.options=null,e.optionsCount=0}function On(e,n,t){e.value=n,t.valuesCount++,Nt(e,n,t),At(e,n,t)}function Rt(e){return e.cellRows.map(n=>n.map(t=>t.value))}function At(e,n,t){Tt(e,t).forEach(l=>{l.options[n]!==R&&(l.options[n]=R,l.optionsCount--,l.optionsCount===1&&t.singleOptionCellCoordinates.push({rowIndex:l.rowIndex,columnIndex:l.columnIndex}),l.optionsCount===0&&(t.hasCellWithNoOptions=!0),l.rowIndex!==e.rowIndex&&hn(n,l,t),l.columnIndex!==e.columnIndex&&gn(n,l,t),l.squareIndex!==e.squareIndex&&_n(n,l,t))})}function Nt(e,n,t){t.rowsOptionsCounts[e.rowIndex][n]=0,t.columnsOptionsCounts[e.columnIndex][n]=0,t.squaresOptionsCounts[e.squareIndex][n]=0}function Tt(e,n){const t=zt(e,n),o=Mt(e,n),l=Lt(e,n).filter(i=>i.rowIndex!==e.rowIndex&&i.columnIndex!==e.columnIndex);return[...t,...o,...l]}function zt(e,n){return n.cellRows[e.rowIndex].filter(t=>Re(t,e))}function Mt(e,n){const t=[];return n.cellRows.forEach(o=>{const l=o[e.columnIndex];Re(l,e)&&t.push(l)}),t}function Lt(e,n){const t=[],o=Ae(e.squareIndex);for(let l=o.minRow;l<=o.maxRow;l++)for(let i=o.minColumn;i<=o.maxColumn;i++){const s=n.cellRows[l][i];Re(s,e)&&t.push(s)}return t}function Re(e,n){return e!==n&&e.options}function Gt(e,n){const t=[0,0,0,3,3,3,6,6,6],o=[0,0,0,1,1,1,2,2,2],l=t[e],i=o[n];return l+i}function Ae(e){const t=[0,0,0,3,3,3,6,6,6][e],l=[0,3,6,0,3,6,0,3,6][e],i=2;return{minRow:t,maxRow:t+i,minColumn:l,maxColumn:l+i}}function Ht(e=null){return e||(e=()=>{}),Pt(e)}function Ft(e){return vn(dn(e))}function vn(e){return $t(e)}function Wt(e){if(!Kt(e))return vn(e)?1:0;const n=2;let t=0;for(let o=0;o<O.length;o++)for(let l=0;l<O.length;l++)if(Jt(e,o,l)){let i=0;const s=cn(no(e,o,l));for(let u=0;u<s.length;u++){const r=B(e);if(r[o][l]=s[u],Ft(r)){if(i++,i===n)return i;t=i}}}return t}function Bt(){return dn(rn())}function Pt(e){return Ut(Bt(),e)}function Ut(e,n){return cn(jt()).forEach((o,l)=>{Dt(o,e),n(l)}),e}function Dt(e,n){const t=n[e.row][e.column];n[e.row][e.column]=R,Qt(n)||(n[e.row][e.column]=t)}function Qt(e){return Wt(e)===1}function jt(){const e=[];return O.forEach((n,t)=>{O.forEach((o,l)=>{e.push({row:t,column:l})})}),e}function Kt(e){return e.flat().some(n=>n===R)}function Jt(e,n,t){return e[n][t]===R}function Zt(e){return e.flat().every(n=>O.includes(n))}function $t(e){return Zt(e)&&Xt(e)&&Yt(e)&&eo(e)}function Xt(e){return e.every(n=>j(n))}function Yt(e){return O.every((n,t)=>{const o=kn(e,t);return j(o)})}function eo(e){const n=[0,4,7],t=n,o=n;return t.every(l=>o.every(i=>{const s=In(e,l,i);return j(s)}))}function no(e,n,t){const o=to(e,n),l=kn(e,t),i=In(e,n,t),s=[...o,...l,...i];return O.filter(r=>!s.includes(r))}function In(e,n,t){const o=[[0,1,2],[3,4,5],[6,7,8]],l=o.find(u=>u.includes(n)),i=o.find(u=>u.includes(t)),s=[];return l.forEach(u=>{i.forEach(r=>{s.push(e[u][r])})}),Ne(s)}function kn(e,n){const t=[];for(let o=0;o<O.length;o++)t.push(e[o][n]);return Ne(t)}function to(e,n){return Ne(e[n])}function Ne(e){return e.filter(n=>n!==R)}const fe={positionProcessed:"positionProcessed",sudokuGenerated:"sudokuGenerated"};self.onmessage=e=>{e.data.generateSudoku&&oo()};function oo(){const e=Ht(lo);io(e)}function lo(e){self.postMessage({messageType:fe.positionProcessed,processedPositionsCount:e})}function io(e){self.postMessage({messageType:fe.sudokuGenerated,generatedSudoku:e})}function Be(e,n,t){const o=e.slice();return o[26]=n[t],o}function Pe(e,n,t){const o=e.slice();return o[29]=n[t],o[31]=t,o}function Ue(e,n,t){const o=e.slice();return o[32]=n[t],o[34]=t,o}function so(e){let n;return{c(){n=_("div"),C(n,"class",Xe(`${xn(e[34])?"horizontal":"vertical"}-divider`)+" svelte-28gziy")},m(t,o){V(t,n,o)},p:M,d(t){t&&x(n)}}}function De(e){let n,t,o=bn(e[34]),l,i;function s(){return e[13](e[32])}n=new $n({props:{isSelected:e[32].isSelected,isSiblingSelected:e[32].isSiblingSelected,value:e[32].value,options:e[32].options,numberToHighlight:e[7].value,isLocked:e[32].isLocked}}),n.$on("click",s);let u=o&&so(e);return{c(){ln(n.$$.fragment),t=T(),u&&u.c(),l=ye()},m(r,c){ve(n,r,c),V(r,t,c),u&&u.m(r,c),V(r,l,c),i=!0},p(r,c){e=r;const f={};c[0]&1&&(f.isSelected=e[32].isSelected),c[0]&1&&(f.isSiblingSelected=e[32].isSiblingSelected),c[0]&1&&(f.value=e[32].value),c[0]&1&&(f.options=e[32].options),c[0]&128&&(f.numberToHighlight=e[7].value),c[0]&1&&(f.isLocked=e[32].isLocked),n.$set(f),o&&u.p(e,c)},i(r){i||(E(n.$$.fragment,r),i=!0)},o(r){z(n.$$.fragment,r),i=!1},d(r){Ie(n,r),r&&x(t),u&&u.d(r),r&&x(l)}}}function uo(e){let n;return{c(){n=_("div"),C(n,"class",Xe(`${xn(e[31])?"horizontal":"vertical"}-divider`)+" svelte-28gziy")},m(t,o){V(t,n,o)},p:M,d(t){t&&x(n)}}}function Qe(e){let n,t,o=bn(e[31]),l,i,s=e[29],u=[];for(let f=0;f<s.length;f+=1)u[f]=De(Ue(e,s,f));const r=f=>z(u[f],1,1,()=>{u[f]=null});let c=o&&uo(e);return{c(){n=_("div");for(let f=0;f<u.length;f+=1)u[f].c();t=T(),c&&c.c(),l=ye(),C(n,"class","cell-group svelte-28gziy")},m(f,a){V(f,n,a);for(let p=0;p<u.length;p+=1)u[p].m(n,null);V(f,t,a),c&&c.m(f,a),V(f,l,a),i=!0},p(f,a){if(a[0]&385){s=f[29];let p;for(p=0;p<s.length;p+=1){const w=Ue(f,s,p);u[p]?(u[p].p(w,a),E(u[p],1)):(u[p]=De(w),u[p].c(),E(u[p],1),u[p].m(n,null))}for(oe(),p=s.length;p<u.length;p+=1)r(p);le()}o&&c.p(f,a)},i(f){if(!i){for(let a=0;a<s.length;a+=1)E(u[a]);i=!0}},o(f){u=u.filter(Boolean);for(let a=0;a<u.length;a+=1)z(u[a]);i=!1},d(f){f&&x(n),ie(u,f),f&&x(t),c&&c.d(f),f&&x(l)}}}function je(e){let n,t,o=e[26]+"",l,i,s,u=e[6][e[26]]+"",r,c,f,a;function p(){return e[14](e[26])}return{c(){n=_("button"),t=_("div"),l=W(o),i=T(),s=_("div"),r=W(u),C(t,"class","number-input svelte-28gziy"),n.disabled=c=e[6][e[26]]<=0,C(n,"class","svelte-28gziy"),k(n,"highlight",e[1]&&e[7].options.includes(e[26]))},m(w,y){V(w,n,y),g(n,t),g(t,l),g(n,i),g(n,s),g(s,r),f||(a=D(n,"click",p),f=!0)},p(w,y){e=w,y[0]&64&&u!==(u=e[6][e[26]]+"")&&ae(r,u),y[0]&64&&c!==(c=e[6][e[26]]<=0)&&(n.disabled=c),y[0]&130&&k(n,"highlight",e[1]&&e[7].options.includes(e[26]))},d(w){w&&x(n),f=!1,a()}}}function Ke(e){let n,t=e[2]?"Is":"Is Not",o,l,i,s;return{c(){n=_("div"),o=W(t),l=W(" Valid!"),C(n,"class","svelte-28gziy"),k(n,"isValid",e[2])},m(u,r){V(u,n,r),g(n,o),g(n,l),s=!0},p(u,r){(!s||r[0]&4)&&t!==(t=u[2]?"Is":"Is Not")&&ae(o,t),(!s||r[0]&4)&&k(n,"isValid",u[2])},i(u){s||(i&&i.end(1),s=!0)},o(u){i=on(n,sn,{}),s=!1},d(u){u&&x(n),u&&i&&i.end()}}}function Je(e){let n,t,o,l,i,s,u;return{c(){n=_("div"),t=_("dialog"),o=_("p"),o.textContent="Generating a new random single-solution sudoku with minimal clues.",l=T(),i=_("progress"),C(i,"type","range"),i.value=e[5],C(i,"min","0"),C(i,"max","80"),C(i,"class","svelte-28gziy"),t.open=!0,C(t,"class","svelte-28gziy"),C(n,"class","dialog-container svelte-28gziy")},m(r,c){V(r,n,c),g(n,t),g(t,o),g(t,l),g(t,i),u=!0},p(r,c){(!u||c[0]&32)&&(i.value=r[5])},i(r){u||(s&&s.end(1),u=!0)},o(r){s=on(t,sn,{}),u=!1},d(r){r&&x(n),r&&s&&s.end()}}}function ro(e){let n,t,o,l,i,s,u,r,c,f,a,p,w,y,A,b,L,G,K,Y,N=e[0],S=[];for(let d=0;d<N.length;d+=1)S[d]=Qe(Pe(e,N,d));const me=d=>z(S[d],1,1,()=>{S[d]=null});let H=O,q=[];for(let d=0;d<H.length;d+=1)q[d]=je(Be(e,H,d));let v=e[3]&&Ke(e),I=e[4]&&Je(e);return{c(){n=_("div"),t=_("div");for(let d=0;d<S.length;d+=1)S[d].c();o=T(),l=_("div"),i=_("div");for(let d=0;d<q.length;d+=1)q[d].c();s=T(),u=_("button"),u.textContent="Options Mode",r=T(),c=_("div"),f=_("button"),f.textContent="New Game",a=T(),p=_("button"),p.textContent="Undo",w=T(),y=_("button"),y.textContent="Validate",A=T(),b=_("div"),v&&v.c(),L=T(),I&&I.c(),C(t,"class","board svelte-28gziy"),C(u,"class","svelte-28gziy"),k(u,"optionsMode",e[1]),C(i,"class","number-inputs svelte-28gziy"),C(f,"class","svelte-28gziy"),C(p,"class","svelte-28gziy"),C(y,"class","svelte-28gziy"),C(c,"class","controls svelte-28gziy"),C(b,"class","validity svelte-28gziy"),C(l,"class","inputs svelte-28gziy"),C(n,"class","game svelte-28gziy")},m(d,m){V(d,n,m),g(n,t);for(let h=0;h<S.length;h+=1)S[h].m(t,null);g(n,o),g(n,l),g(l,i);for(let h=0;h<q.length;h+=1)q[h].m(i,null);g(i,s),g(i,u),g(l,r),g(l,c),g(c,f),g(c,a),g(c,p),g(c,w),g(c,y),g(l,A),g(l,b),v&&v.m(b,null),g(l,L),I&&I.m(l,null),G=!0,K||(Y=[D(u,"click",e[15]),D(f,"click",e[16]),D(p,"click",e[17]),D(y,"click",e[18])],K=!0)},p(d,m){if(m[0]&385){N=d[0];let h;for(h=0;h<N.length;h+=1){const J=Pe(d,N,h);S[h]?(S[h].p(J,m),E(S[h],1)):(S[h]=Qe(J),S[h].c(),E(S[h],1),S[h].m(t,null))}for(oe(),h=N.length;h<S.length;h+=1)me(h);le()}if(m[0]&706){H=O;let h;for(h=0;h<H.length;h+=1){const J=Be(d,H,h);q[h]?q[h].p(J,m):(q[h]=je(J),q[h].c(),q[h].m(i,s))}for(;h<q.length;h+=1)q[h].d(1);q.length=H.length}(!G||m[0]&2)&&k(u,"optionsMode",d[1]),d[3]?v?(v.p(d,m),m[0]&8&&E(v,1)):(v=Ke(d),v.c(),E(v,1),v.m(b,null)):v&&(oe(),z(v,1,1,()=>{v=null}),le()),d[4]?I?(I.p(d,m),m[0]&16&&E(I,1)):(I=Je(d),I.c(),E(I,1),I.m(l,null)):I&&(oe(),z(I,1,1,()=>{I=null}),le())},i(d){if(!G){for(let m=0;m<N.length;m+=1)E(S[m]);E(v),E(I),G=!0}},o(d){S=S.filter(Boolean);for(let m=0;m<S.length;m+=1)z(S[m]);z(v),z(I),G=!1},d(d){d&&x(n),ie(S,d),ie(q,d),v&&v.d(),I&&I.d(),K=!1,P(Y)}}}function xn(e){return e===2||e===5}function bn(e){return e<8}function co(e,n,t){let o,l,i=[],s=[],u=!1,r=!1,c=!1,f=!1,a=0;const p=K();w();function w(){Xn()?(s=Yn(),t(0,i=B(s.at(-1)))):(t(0,i=We(rn())),N())}function y(){s.push(B(i)),Fe(s)}function A(m,h){t(0,i=tt(i,m,h))}function b(m){t(0,i=ot(i,m,u)),y()}function L(){if(s.length>1){s.pop(),Fe(s);const m=-1;t(0,i=B(s.at(m)))}}function G(){t(2,r=et(i)),t(3,c=!0),setTimeout(()=>t(3,c=!1),2e3)}function K(){const m=new Worker(new URL(""+new URL("sudokuGeneratorWorker.cb398229.js",import.meta.url).href,self.location),{type:"module"});return m.onmessage=Y,m}function Y(m){switch(m.data.messageType){case fe.positionProcessed:t(5,a=m.data.processedPositionsCount);case fe.sudokuGenerated:S(m.data.generatedSudoku);default:console.log("Unexpected message from web worker!")}}function N(){t(4,f=!0),p.postMessage({generateSudoku:!0})}function S(m){t(0,i=We(m)),s=[],y(),setTimeout(()=>{t(4,f=!1),t(5,a=0)},1e3)}const me=m=>A(m.row,m.column),H=m=>b(m),q=()=>t(1,u=!u),v=()=>N(),I=()=>L(),d=()=>G();return e.$$.update=()=>{e.$$.dirty[0]&1&&t(7,o=lt(i)),e.$$.dirty[0]&1&&t(6,l=nt(i))},[i,u,r,c,f,a,l,o,A,b,L,G,N,me,H,q,v,I,d]}class fo extends xe{constructor(n){super(),ke(this,n,co,ro,we,{},null,[-1,-1])}}function ao(e){let n,t,o;return t=new fo({}),{c(){n=_("main"),ln(t.$$.fragment),C(n,"class","svelte-1kz4ccg")},m(l,i){V(l,n,i),ve(t,n,null),o=!0},p:M,i(l){o||(E(t.$$.fragment,l),o=!0)},o(l){z(t.$$.fragment,l),o=!1},d(l){l&&x(n),Ie(t)}}}class mo extends xe{constructor(n){super(),ke(this,n,null,ao,we,{})}}new mo({target:document.getElementById("app")});
