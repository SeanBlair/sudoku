(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function t(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerpolicy&&(s.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?s.credentials="include":l.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(l){if(l.ep)return;l.ep=!0;const s=t(l);fetch(l.href,s)}})();function M(){}const $e=e=>e;function Ze(e){return e()}function Te(){return Object.create(null)}function U(e){e.forEach(Ze)}function Ce(e){return typeof e=="function"}function we(e,n){return e!=e?n==n:e!==n||e&&typeof e=="object"||typeof e=="function"}function qn(e){return Object.keys(e).length===0}function Xe(e){return e==null?"":e}const Ye=typeof window<"u";let Vn=Ye?()=>window.performance.now():()=>Date.now(),Se=Ye?e=>requestAnimationFrame(e):M;const j=new Set;function en(e){j.forEach(n=>{n.c(e)||(j.delete(n),n.f())}),j.size!==0&&Se(en)}function En(e){let n;return j.size===0&&Se(en),{promise:new Promise(t=>{j.add(n={c:e,f:t})}),abort(){j.delete(n)}}}function g(e,n){e.appendChild(n)}function nn(e){if(!e)return document;const n=e.getRootNode?e.getRootNode():e.ownerDocument;return n&&n.host?n:e.ownerDocument}function Rn(e){const n=_("style");return An(nn(e),n),n.sheet}function An(e,n){return g(e.head||e,n),n.sheet}function V(e,n,t){e.insertBefore(n,t||null)}function x(e){e.parentNode&&e.parentNode.removeChild(e)}function se(e,n){for(let t=0;t<e.length;t+=1)e[t]&&e[t].d(n)}function _(e){return document.createElement(e)}function P(e){return document.createTextNode(e)}function N(){return P(" ")}function Oe(){return P("")}function Q(e,n,t,o){return e.addEventListener(n,t,o),()=>e.removeEventListener(n,t,o)}function C(e,n,t){t==null?e.removeAttribute(n):e.getAttribute(n)!==t&&e.setAttribute(n,t)}function Nn(e){return Array.from(e.childNodes)}function ae(e,n){n=""+n,e.wholeText!==n&&(e.data=n)}function k(e,n,t){e.classList[t?"add":"remove"](n)}function Tn(e,n,{bubbles:t=!1,cancelable:o=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(e,t,o,n),l}const ie=new Map;let ue=0;function Mn(e){let n=5381,t=e.length;for(;t--;)n=(n<<5)-n^e.charCodeAt(t);return n>>>0}function Ln(e,n){const t={stylesheet:Rn(n),rules:{}};return ie.set(e,t),t}function Gn(e,n,t,o,l,s,i,u=0){const r=16.666/o;let c=`{
`;for(let b=0;b<=1;b+=r){const G=n+(t-n)*s(b);c+=b*100+`%{${i(G,1-G)}}
`}const f=c+`100% {${i(t,1-t)}}
}`,d=`__svelte_${Mn(f)}_${u}`,m=nn(e),{stylesheet:w,rules:v}=ie.get(m)||Ln(m,e);v[d]||(v[d]=!0,w.insertRule(`@keyframes ${d} ${f}`,w.cssRules.length));const A=e.style.animation||"";return e.style.animation=`${A?`${A}, `:""}${d} ${o}ms linear ${l}ms 1 both`,ue+=1,d}function Hn(e,n){const t=(e.style.animation||"").split(", "),o=t.filter(n?s=>s.indexOf(n)<0:s=>s.indexOf("__svelte")===-1),l=t.length-o.length;l&&(e.style.animation=o.join(", "),ue-=l,ue||Fn())}function Fn(){Se(()=>{ue||(ie.forEach(e=>{const{ownerNode:n}=e.stylesheet;n&&x(n)}),ie.clear())})}let ve;function Y(e){ve=e}function Wn(e,n){const t=e.$$.callbacks[n.type];t&&t.slice().forEach(o=>o.call(this,n))}const X=[],Me=[],ne=[],Le=[],Pn=Promise.resolve();let ge=!1;function Bn(){ge||(ge=!0,Pn.then(tn))}function re(e){ne.push(e)}const pe=new Set;let ee=0;function tn(){const e=ve;do{for(;ee<X.length;){const n=X[ee];ee++,Y(n),Un(n.$$)}for(Y(null),X.length=0,ee=0;Me.length;)Me.pop()();for(let n=0;n<ne.length;n+=1){const t=ne[n];pe.has(t)||(pe.add(t),t())}ne.length=0}while(X.length);for(;Le.length;)Le.pop()();ge=!1,pe.clear(),Y(e)}function Un(e){if(e.fragment!==null){e.update(),U(e.before_update);const n=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,n),e.after_update.forEach(re)}}let Z;function zn(){return Z||(Z=Promise.resolve(),Z.then(()=>{Z=null})),Z}function Ge(e,n,t){e.dispatchEvent(Tn(`${n?"intro":"outro"}${t}`))}const te=new Set;let W;function oe(){W={r:0,c:[],p:W}}function le(){W.r||U(W.c),W=W.p}function E(e,n){e&&e.i&&(te.delete(e),e.i(n))}function T(e,n,t,o){if(e&&e.o){if(te.has(e))return;te.add(e),W.c.push(()=>{te.delete(e),o&&(t&&e.d(1),o())}),e.o(n)}else o&&o()}const Dn={duration:0};function on(e,n,t){let o=n(e,t),l=!0,s;const i=W;i.r+=1;function u(){const{delay:r=0,duration:c=300,easing:f=$e,tick:d=M,css:m}=o||Dn;m&&(s=Gn(e,1,0,c,r,f,m));const w=Vn()+r,v=w+c;re(()=>Ge(e,!1,"start")),En(A=>{if(l){if(A>=v)return d(0,1),Ge(e,!1,"end"),--i.r||U(i.c),!1;if(A>=w){const b=f((A-w)/c);d(1-b,b)}}return l})}return Ce(o)?zn().then(()=>{o=o(),u()}):u(),{end(r){r&&o.tick&&o.tick(1,0),l&&(s&&Hn(e,s),l=!1)}}}function ln(e){e&&e.c()}function Ie(e,n,t,o){const{fragment:l,after_update:s}=e.$$;l&&l.m(n,t),o||re(()=>{const i=e.$$.on_mount.map(Ze).filter(Ce);e.$$.on_destroy?e.$$.on_destroy.push(...i):U(i),e.$$.on_mount=[]}),s.forEach(re)}function ye(e,n){const t=e.$$;t.fragment!==null&&(U(t.on_destroy),t.fragment&&t.fragment.d(n),t.on_destroy=t.fragment=null,t.ctx=[])}function Qn(e,n){e.$$.dirty[0]===-1&&(X.push(e),Bn(),e.$$.dirty.fill(0)),e.$$.dirty[n/31|0]|=1<<n%31}function ke(e,n,t,o,l,s,i,u=[-1]){const r=ve;Y(e);const c=e.$$={fragment:null,ctx:[],props:s,update:M,not_equal:l,bound:Te(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(r?r.$$.context:[])),callbacks:Te(),dirty:u,skip_bound:!1,root:n.target||r.$$.root};i&&i(c.root);let f=!1;if(c.ctx=t?t(e,n.props||{},(d,m,...w)=>{const v=w.length?w[0]:m;return c.ctx&&l(c.ctx[d],c.ctx[d]=v)&&(!c.skip_bound&&c.bound[d]&&c.bound[d](v),f&&Qn(e,d)),m}):[],c.update(),f=!0,U(c.before_update),c.fragment=o?o(c.ctx):!1,n.target){if(n.hydrate){const d=Nn(n.target);c.fragment&&c.fragment.l(d),d.forEach(x)}else c.fragment&&c.fragment.c();n.intro&&E(e.$$.fragment),Ie(e,n.target,n.anchor,n.customElement),tn()}Y(r)}class xe{$destroy(){ye(this,1),this.$destroy=M}$on(n,t){if(!Ce(t))return M;const o=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return o.push(t),()=>{const l=o.indexOf(t);l!==-1&&o.splice(l,1)}}$set(n){this.$$set&&!qn(n)&&(this.$$.skip_bound=!0,this.$$set(n),this.$$.skip_bound=!1)}}function sn(e,{delay:n=0,duration:t=400,easing:o=$e}={}){const l=+getComputedStyle(e).opacity;return{delay:n,duration:t,easing:o,css:s=>`opacity: ${s*l}`}}function He(e,n,t){const o=e.slice();return o[7]=n[t],o}function jn(e){let n,t=e[3],o=[];for(let l=0;l<t.length;l+=1)o[l]=Fe(He(e,t,l));return{c(){for(let l=0;l<o.length;l+=1)o[l].c();n=Oe()},m(l,s){for(let i=0;i<o.length;i+=1)o[i].m(l,s);V(l,n,s)},p(l,s){if(s&24){t=l[3];let i;for(i=0;i<t.length;i+=1){const u=He(l,t,i);o[i]?o[i].p(u,s):(o[i]=Fe(u),o[i].c(),o[i].m(n.parentNode,n))}for(;i<o.length;i+=1)o[i].d(1);o.length=t.length}},d(l){se(o,l),l&&x(n)}}}function Kn(e){let n,t;return{c(){n=_("span"),t=P(e[2]),C(n,"class","svelte-1a31dr7"),k(n,"highlight",e[4]===e[2])},m(o,l){V(o,n,l),g(n,t)},p(o,l){l&4&&ae(t,o[2]),l&20&&k(n,"highlight",o[4]===o[2])},d(o){o&&x(n)}}}function Fe(e){let n,t=e[7]+"",o;return{c(){n=_("span"),o=P(t),C(n,"class","svelte-1a31dr7"),k(n,"highlight",e[4]===e[7])},m(l,s){V(l,n,s),g(n,o)},p(l,s){s&8&&t!==(t=l[7]+"")&&ae(o,t),s&24&&k(n,"highlight",l[4]===l[7])},d(l){l&&x(n)}}}function Jn(e){let n,t,o;function l(u,r){return u[2]?Kn:jn}let s=l(e),i=s(e);return{c(){n=_("div"),i.c(),C(n,"class","svelte-1a31dr7"),k(n,"isSet",e[2]),k(n,"isSelected",e[0]),k(n,"isSiblingSelected",e[1]),k(n,"isLocked",e[5])},m(u,r){V(u,n,r),i.m(n,null),t||(o=Q(n,"click",e[6]),t=!0)},p(u,[r]){s===(s=l(u))&&i?i.p(u,r):(i.d(1),i=s(u),i&&(i.c(),i.m(n,null))),r&4&&k(n,"isSet",u[2]),r&1&&k(n,"isSelected",u[0]),r&2&&k(n,"isSiblingSelected",u[1]),r&32&&k(n,"isLocked",u[5])},i:M,o:M,d(u){u&&x(n),i.d(),t=!1,o()}}}function $n(e,n,t){let{isSelected:o}=n,{isSiblingSelected:l}=n,{value:s}=n,{options:i}=n,{numberToHighlight:u}=n,{isLocked:r}=n;function c(f){Wn.call(this,e,f)}return e.$$set=f=>{"isSelected"in f&&t(0,o=f.isSelected),"isSiblingSelected"in f&&t(1,l=f.isSiblingSelected),"value"in f&&t(2,s=f.value),"options"in f&&t(3,i=f.options),"numberToHighlight"in f&&t(4,u=f.numberToHighlight),"isLocked"in f&&t(5,r=f.isLocked)},[o,l,s,i,u,r,c]}class Zn extends xe{constructor(n){super(),ke(this,n,$n,Jn,we,{isSelected:0,isSiblingSelected:1,value:2,options:3,numberToHighlight:4,isLocked:5})}}const be="boardHistory";function Xn(){return localStorage.getItem(be)!==null}function Yn(){const e=localStorage.getItem(be);return JSON.parse(e)}function We(e){localStorage.setItem(be,JSON.stringify(e))}const O=[1,2,3,4,5,6,7,8,9],R=0,z="";function un(){return Array(9).fill(z)}function rn(){const e=[];for(let n=0;n<O.length;n++){const t=Array(O.length).fill(R);e.push(t)}return e}function B(e){return JSON.parse(JSON.stringify(e))}function K(e){return new Set(e).size===e.length}function cn(e){return e.sort((n,t)=>.5-Math.random())}function Pe(e){const n=[[1,2,3],[4,5,6],[7,8,9]],t=n,o=n,l=[];return t.forEach(s=>{o.forEach(i=>{const u=[];s.forEach(r=>{i.forEach(c=>{u.push(et(e,r,c))})}),l.push(u)})}),l}function et(e,n,t){const o=qe(n,t),l=nt(e,n,t);return l!==R&&(o.value=l,o.isLocked=!0),o}function qe(e,n){return{row:e,column:n,value:z,isSelected:!1,isSiblingSelected:!1,options:un(),isLocked:!1}}function nt(e,n,t){return e[ce(n)][ce(t)]}function tt(e,n,t){return e.map(o=>o.map(l=>(l.isSelected=l.row===n&&l.column===t,l.isSiblingSelected=fn(l,qe(n,t)),l)))}function fn(e,n){if(e.row===n.row&&e.column===n.column)return!1;const o=e.row===n.row,l=e.column===n.column;return o||l||ot(e,n)}function ot(e,n){const t=[[1,2,3],[4,5,6],[7,8,9]],o=t.find(s=>s.includes(e.row)),l=t.find(s=>s.includes(e.column));return o.includes(n.row)&&l.includes(n.column)}function lt(e,n,t){const o=an(e);if(!(!o||o.isLocked))return t?it(o,n):(o.value=n,o.options=un(),st(e,o,n)),e}function st(e,n,t){e.forEach(o=>{o.forEach(l=>{fn(l,n)&&(l.options[ce(t)]=z)})})}function it(e,n){const t=ce(n);e.options[t]?e.options[t]=z:e.options[t]=n}function ce(e){return e-1}function ut(e){const n=an(e);return n?B(n):qe(0,0)}function an(e){return e.flat().find(n=>n.isSelected)}function rt(e){const n=Array(O.length+1);for(let t=1;t<=9;t++)n[t]=ct(e,t);return n}function ct(e,n){let t=O.length;return e.forEach(o=>{o.forEach(l=>{l.value===n&&t--})}),t}function ft(e){return at(e)&&dt(e)&&mt(e)}function at(e){const n=e.flat();for(let t=1;t<=9;t++){const o=n.filter(l=>l.row===t&&l.value!==z).map(l=>l.value);if(!K(o))return!1}return!0}function dt(e){const n=e.flat();for(let t=1;t<=9;t++){const o=n.filter(l=>l.column===t&&l.value!==z).map(l=>l.value);if(!K(o))return!1}return!0}function mt(e){return e.forEach(n=>{const t=n.filter(o=>o.value!==z);if(!K(t))return!1}),!0}function dn(e){let n=vt(e);return _t(n),_e(n),Ct(n)||(n=pt(n)),Rt(n)}function pt(e){let n=B(e);const t=[];e:for(let o=0;o<O.length;o++)for(let l=0;l<O.length;l++){for(_e(n);!de(n);)if(t.length>0){const i=t.pop();n=i.board,o=i.rowIndex,l=i.columnIndex,_e(n)}else break e;const s=n.cellRows[o][l];Cn(s)||ht(s,o,l,n,t)}return n}function ht(e,n,t,o,l){const s=e.options.filter(u=>u!==R);if(s.length<2)throw new Error("Found a cell with less than 2 options, not sure what to do here...");const i=s[Math.floor(Math.random()*s.length)];gt(i,n,t,o,l),e.onlyOptionValue=i,mn(e,o)}function gt(e,n,t,o,l){const s=B(o),i=s.cellRows[n][t];i.options[e]=R,i.optionsCount--,i.optionsCount===1&&s.singleOptionCellCoordinates.push({rowIndex:i.rowIndex,columnIndex:i.columnIndex}),pn(e,i,s),l.push({board:s,rowIndex:n,columnIndex:t})}function _t(e){yt(e),qt(e)}function de(e){return!e.hasCellWithNoOptions&&!e.hasCellThatIsOnlyOptionForMultipleValues}function Ct(e){return e.valuesCount===81}function _e(e){for(;de(e)&&wt(e);)St(e),Vt(e)}function wt(e){return e.singleOptionCellCoordinates.length>0||e.onlyOptionCellCoordinates.length>0}function St(e){for(;e.onlyOptionCellCoordinates.length>0&&de(e);){const n=e.onlyOptionCellCoordinates.shift(),t=e.cellRows[n.rowIndex][n.columnIndex];t.value||mn(t,e)}}function mn(e,n){const t=e.onlyOptionValue;vn(e,t,n);const o=e.options.filter(l=>l!==t&&l!==R);Ee(e),Ot(e,o,n)}function Ot(e,n,t){n.forEach(o=>{pn(o,e,t)})}function pn(e,n,t){hn(e,n,t),gn(e,n,t),_n(e,n,t)}function hn(e,n,t){const o=t.rowsOptionsCounts[n.rowIndex];o[e]--,o[e]===1&&On(e,n.rowIndex,t)}function gn(e,n,t){const o=t.columnsOptionsCounts[n.columnIndex];o[e]--,o[e]===1&&Sn(e,n.columnIndex,t)}function _n(e,n,t){const o=t.squaresOptionsCounts[n.squareIndex];o[e]--,o[e]===1&&wn(e,n.squareIndex,t)}function vt(e){const n=()=>Array(O.length+1).fill(0),t=()=>Array(O.length).fill().map(n),o={cellRows:Array(O.length).fill().map(()=>Array()),valuesCount:0,rowsOptionsCounts:t(),columnsOptionsCounts:t(),squaresOptionsCounts:t(),singleOptionCellCoordinates:[],onlyOptionCellCoordinates:[],hasCellWithNoOptions:!1,hasCellThatIsOnlyOptionForMultipleValues:!1};return e.forEach((l,s)=>{l.forEach((i,u)=>{const r=Ht(s,u),c=It(i,s,u,r);i!==R&&(o.valuesCount++,Ee(c)),o.cellRows[s].push(c)})}),o}function It(e,n,t,o){return{value:e,rowIndex:n,columnIndex:t,squareIndex:o,optionsCount:0,options:Array(O.length+1).fill(0)}}function yt(e){e.cellRows.forEach(n=>{n.forEach(t=>{Cn(t)||(kt(t,e),t.optionsCount===0&&(e.hasCellWithNoOptions=!0),t.optionsCount===1&&e.singleOptionCellCoordinates.push({rowIndex:t.rowIndex,columnIndex:t.columnIndex}))})})}function Cn(e){return e.value!==R}function kt(e,n){O.forEach(t=>{xt(t,e,n)&&bt(t,e,n)})}function xt(e,n,t){const o=u=>u.value===e,l=()=>t.cellRows[n.rowIndex].some(o),s=()=>t.cellRows.some(u=>o(u[n.columnIndex])),i=()=>{const u=Ae(n.squareIndex);for(let r=u.minRow;r<=u.maxRow;r++)for(let c=u.minColumn;c<=u.maxColumn;c++)if(o(t.cellRows[r][c]))return!0;return!1};return!l()&&!s()&&!i()}function bt(e,n,t){n.options[e]=e,n.optionsCount++,t.rowsOptionsCounts[n.rowIndex][e]++,t.columnsOptionsCounts[n.columnIndex][e]++,t.squaresOptionsCounts[n.squareIndex][e]++}function qt(e){e.rowsOptionsCounts.forEach((n,t)=>{he(n,t,e,On)}),e.columnsOptionsCounts.forEach((n,t)=>{he(n,t,e,Sn)}),e.squaresOptionsCounts.forEach((n,t)=>{he(n,t,e,wn)})}function he(e,n,t,o){e.forEach((l,s)=>{l===1&&o(s,n,t)})}function wn(e,n,t){let o;const l=Ae(n);e:for(let s=l.minRow;s<=l.maxRow;s++)for(let i=l.minColumn;i<=l.maxColumn;i++){const u=t.cellRows[s][i];if(u.options&&u.options.includes(e)){o=u;break e}}Ve(e,o,t)}function Sn(e,n,t){let o;for(let l=0;l<O.length;l++){const s=t.cellRows[l][n];if(s.options&&s.options.includes(e)){o=s;break}}Ve(e,o,t)}function On(e,n,t){const o=t.cellRows[n].find(l=>l.options&&l.options.includes(e));Ve(e,o,t)}function Ve(e,n,t){n.optionsCount===1||(n.onlyOptionValue?n.onlyOptionValue!==e&&(t.hasCellThatIsOnlyOptionForMultipleValues=!0):(n.onlyOptionValue=e,t.onlyOptionCellCoordinates.push({rowIndex:n.rowIndex,columnIndex:n.columnIndex})))}function Vt(e){for(;e.singleOptionCellCoordinates.length>0&&de(e);){const n=e.singleOptionCellCoordinates.shift(),t=e.cellRows[n.rowIndex][n.columnIndex];t.value||Et(t,e)}}function Et(e,n){const t=e.options.find(o=>o!==R);vn(e,t,n),Ee(e)}function Ee(e){e.options=null,e.optionsCount=0}function vn(e,n,t){e.value=n,t.valuesCount++,Nt(e,n,t),At(e,n,t)}function Rt(e){return e.cellRows.map(n=>n.map(t=>t.value))}function At(e,n,t){Tt(e,t).forEach(l=>{l.options[n]!==R&&(l.options[n]=R,l.optionsCount--,l.optionsCount===1&&t.singleOptionCellCoordinates.push({rowIndex:l.rowIndex,columnIndex:l.columnIndex}),l.optionsCount===0&&(t.hasCellWithNoOptions=!0),l.rowIndex!==e.rowIndex&&hn(n,l,t),l.columnIndex!==e.columnIndex&&gn(n,l,t),l.squareIndex!==e.squareIndex&&_n(n,l,t))})}function Nt(e,n,t){t.rowsOptionsCounts[e.rowIndex][n]=0,t.columnsOptionsCounts[e.columnIndex][n]=0,t.squaresOptionsCounts[e.squareIndex][n]=0}function Tt(e,n){const t=Mt(e,n),o=Lt(e,n),l=Gt(e,n).filter(s=>s.rowIndex!==e.rowIndex&&s.columnIndex!==e.columnIndex);return[...t,...o,...l]}function Mt(e,n){return n.cellRows[e.rowIndex].filter(t=>Re(t,e))}function Lt(e,n){const t=[];return n.cellRows.forEach(o=>{const l=o[e.columnIndex];Re(l,e)&&t.push(l)}),t}function Gt(e,n){const t=[],o=Ae(e.squareIndex);for(let l=o.minRow;l<=o.maxRow;l++)for(let s=o.minColumn;s<=o.maxColumn;s++){const i=n.cellRows[l][s];Re(i,e)&&t.push(i)}return t}function Re(e,n){return e!==n&&e.options}function Ht(e,n){const t=[0,0,0,3,3,3,6,6,6],o=[0,0,0,1,1,1,2,2,2],l=t[e],s=o[n];return l+s}function Ae(e){const t=[0,0,0,3,3,3,6,6,6][e],l=[0,3,6,0,3,6,0,3,6][e],s=2;return{minRow:t,maxRow:t+s,minColumn:l,maxColumn:l+s}}function Ft(e=null){return e||(e=()=>{}),Pt(e)}function Wt(e){return In(dn(e))}function Pt(e){return Bt(Jt(),e)}function Bt(e,n){return cn(Qt()).forEach((o,l)=>{Ut(o,e),n(l)}),e}function Ut(e,n){const t=n[e.row][e.column];n[e.row][e.column]=R,zt(n)||(n[e.row][e.column]=t)}function zt(e){return Dt(e)===1}function Dt(e){if(!jt(e))return In(e)?1:0;const n=2;let t=0;for(let o=0;o<O.length;o++)for(let l=0;l<O.length;l++)if(Kt(e,o,l)){let s=0;const i=cn(no(e,o,l));for(let u=0;u<i.length;u++){const r=B(e);if(r[o][l]=i[u],Wt(r)){if(s++,s===n)return s;t=s}}}return t}function Qt(){const e=[];return O.forEach((n,t)=>{O.forEach((o,l)=>{e.push({row:t,column:l})})}),e}function jt(e){return e.flat().some(n=>n===R)}function Kt(e,n,t){return e[n][t]===R}function Jt(){return dn(rn())}function In(e){return Zt(e)}function $t(e){return e.flat().every(n=>O.includes(n))}function Zt(e){return $t(e)&&Xt(e)&&Yt(e)&&eo(e)}function Xt(e){return e.every(n=>K(n))}function Yt(e){return O.every((n,t)=>{const o=kn(e,t);return K(o)})}function eo(e){const n=[0,4,7],t=n,o=n;return t.every(l=>o.every(s=>{const i=yn(e,l,s);return K(i)}))}function no(e,n,t){const o=to(e,n),l=kn(e,t),s=yn(e,n,t),i=[...o,...l,...s];return O.filter(r=>!i.includes(r))}function yn(e,n,t){const o=[[0,1,2],[3,4,5],[6,7,8]],l=o.find(u=>u.includes(n)),s=o.find(u=>u.includes(t)),i=[];return l.forEach(u=>{s.forEach(r=>{i.push(e[u][r])})}),Ne(i)}function kn(e,n){const t=[];for(let o=0;o<O.length;o++)t.push(e[o][n]);return Ne(t)}function to(e,n){return Ne(e[n])}function Ne(e){return e.filter(n=>n!==R)}const fe={positionProcessed:"positionProcessed",sudokuGenerated:"sudokuGenerated"};self.onmessage=e=>{e.data.generateSudoku&&oo()};function oo(){const e=Ft(lo);so(e)}function lo(e){self.postMessage({messageType:fe.positionProcessed,processedPositionsCount:e})}function so(e){self.postMessage({messageType:fe.sudokuGenerated,generatedSudoku:e})}function Be(e,n,t){const o=e.slice();return o[24]=n[t],o}function Ue(e,n,t){const o=e.slice();return o[27]=n[t],o[29]=t,o}function ze(e,n,t){const o=e.slice();return o[30]=n[t],o[32]=t,o}function io(e){let n;return{c(){n=_("div"),C(n,"class",Xe(`${xn(e[32])?"horizontal":"vertical"}-divider`)+" svelte-1fm4p2s")},m(t,o){V(t,n,o)},p:M,d(t){t&&x(n)}}}function De(e){let n,t,o=bn(e[32]),l,s;function i(){return e[13](e[30])}n=new Zn({props:{isSelected:e[30].isSelected,isSiblingSelected:e[30].isSiblingSelected,value:e[30].value,options:e[30].options,numberToHighlight:e[7].value,isLocked:e[30].isLocked}}),n.$on("click",i);let u=o&&io(e);return{c(){ln(n.$$.fragment),t=N(),u&&u.c(),l=Oe()},m(r,c){Ie(n,r,c),V(r,t,c),u&&u.m(r,c),V(r,l,c),s=!0},p(r,c){e=r;const f={};c[0]&1&&(f.isSelected=e[30].isSelected),c[0]&1&&(f.isSiblingSelected=e[30].isSiblingSelected),c[0]&1&&(f.value=e[30].value),c[0]&1&&(f.options=e[30].options),c[0]&128&&(f.numberToHighlight=e[7].value),c[0]&1&&(f.isLocked=e[30].isLocked),n.$set(f),o&&u.p(e,c)},i(r){s||(E(n.$$.fragment,r),s=!0)},o(r){T(n.$$.fragment,r),s=!1},d(r){ye(n,r),r&&x(t),u&&u.d(r),r&&x(l)}}}function uo(e){let n;return{c(){n=_("div"),C(n,"class",Xe(`${xn(e[29])?"horizontal":"vertical"}-divider`)+" svelte-1fm4p2s")},m(t,o){V(t,n,o)},p:M,d(t){t&&x(n)}}}function Qe(e){let n,t,o=bn(e[29]),l,s,i=e[27],u=[];for(let f=0;f<i.length;f+=1)u[f]=De(ze(e,i,f));const r=f=>T(u[f],1,1,()=>{u[f]=null});let c=o&&uo(e);return{c(){n=_("div");for(let f=0;f<u.length;f+=1)u[f].c();t=N(),c&&c.c(),l=Oe(),C(n,"class","cell-group svelte-1fm4p2s")},m(f,d){V(f,n,d);for(let m=0;m<u.length;m+=1)u[m].m(n,null);V(f,t,d),c&&c.m(f,d),V(f,l,d),s=!0},p(f,d){if(d[0]&641){i=f[27];let m;for(m=0;m<i.length;m+=1){const w=ze(f,i,m);u[m]?(u[m].p(w,d),E(u[m],1)):(u[m]=De(w),u[m].c(),E(u[m],1),u[m].m(n,null))}for(oe(),m=i.length;m<u.length;m+=1)r(m);le()}o&&c.p(f,d)},i(f){if(!s){for(let d=0;d<i.length;d+=1)E(u[d]);s=!0}},o(f){u=u.filter(Boolean);for(let d=0;d<u.length;d+=1)T(u[d]);s=!1},d(f){f&&x(n),se(u,f),f&&x(t),c&&c.d(f),f&&x(l)}}}function je(e){let n,t,o=e[24]+"",l,s,i,u=e[6][e[24]]+"",r,c,f,d;function m(){return e[14](e[24])}return{c(){n=_("button"),t=_("div"),l=P(o),s=N(),i=_("div"),r=P(u),C(t,"class","number-input svelte-1fm4p2s"),n.disabled=c=e[6][e[24]]<=0,C(n,"class","svelte-1fm4p2s"),k(n,"highlight",e[1]&&e[7].options.includes(e[24]))},m(w,v){V(w,n,v),g(n,t),g(t,l),g(n,s),g(n,i),g(i,r),f||(d=Q(n,"click",m),f=!0)},p(w,v){e=w,v[0]&64&&u!==(u=e[6][e[24]]+"")&&ae(r,u),v[0]&64&&c!==(c=e[6][e[24]]<=0)&&(n.disabled=c),v[0]&130&&k(n,"highlight",e[1]&&e[7].options.includes(e[24]))},d(w){w&&x(n),f=!1,d()}}}function Ke(e){let n,t=e[2]?"Is":"Is Not",o,l,s,i;return{c(){n=_("div"),o=P(t),l=P(" Valid!"),C(n,"class","svelte-1fm4p2s"),k(n,"isValid",e[2])},m(u,r){V(u,n,r),g(n,o),g(n,l),i=!0},p(u,r){(!i||r[0]&4)&&t!==(t=u[2]?"Is":"Is Not")&&ae(o,t),(!i||r[0]&4)&&k(n,"isValid",u[2])},i(u){i||(s&&s.end(1),i=!0)},o(u){s=on(n,sn,{}),i=!1},d(u){u&&x(n),u&&s&&s.end()}}}function Je(e){let n,t,o,l,s,i,u;return{c(){n=_("div"),t=_("dialog"),o=_("p"),o.textContent="Generating a new random single-solution sudoku with minimal clues.",l=N(),s=_("progress"),C(s,"type","range"),s.value=e[5],C(s,"min","0"),C(s,"max","80"),C(s,"class","svelte-1fm4p2s"),t.open=!0,C(t,"class","svelte-1fm4p2s"),C(n,"class","dialog-container svelte-1fm4p2s")},m(r,c){V(r,n,c),g(n,t),g(t,o),g(t,l),g(t,s),u=!0},p(r,c){(!u||c[0]&32)&&(s.value=r[5])},i(r){u||(i&&i.end(1),u=!0)},o(r){i=on(t,sn,{}),u=!1},d(r){r&&x(n),r&&i&&i.end()}}}function ro(e){let n,t,o,l,s,i,u,r,c,f,d,m,w,v,A,b,G,H,D,J,L=e[0],S=[];for(let a=0;a<L.length;a+=1)S[a]=Qe(Ue(e,L,a));const me=a=>T(S[a],1,1,()=>{S[a]=null});let F=O,q=[];for(let a=0;a<F.length;a+=1)q[a]=je(Be(e,F,a));let I=e[3]&&Ke(e),h=e[4]&&Je(e);return{c(){n=_("div"),t=_("div");for(let a=0;a<S.length;a+=1)S[a].c();o=N(),l=_("div"),s=_("div");for(let a=0;a<q.length;a+=1)q[a].c();i=N(),u=_("button"),u.textContent="Options Mode",r=N(),c=_("div"),f=_("button"),f.textContent="New Game",d=N(),m=_("button"),m.textContent="Undo",w=N(),v=_("button"),v.textContent="Validate",A=N(),b=_("div"),I&&I.c(),G=N(),h&&h.c(),C(t,"class","board svelte-1fm4p2s"),C(u,"class","svelte-1fm4p2s"),k(u,"optionsMode",e[1]),C(s,"class","number-inputs svelte-1fm4p2s"),C(f,"class","svelte-1fm4p2s"),C(m,"class","svelte-1fm4p2s"),C(v,"class","svelte-1fm4p2s"),C(c,"class","controls svelte-1fm4p2s"),C(b,"class","validity svelte-1fm4p2s"),C(l,"class","inputs svelte-1fm4p2s"),C(n,"class","game svelte-1fm4p2s")},m(a,y){V(a,n,y),g(n,t);for(let p=0;p<S.length;p+=1)S[p].m(t,null);g(n,o),g(n,l),g(l,s);for(let p=0;p<q.length;p+=1)q[p].m(s,null);g(s,i),g(s,u),g(l,r),g(l,c),g(c,f),g(c,d),g(c,m),g(c,w),g(c,v),g(l,A),g(l,b),I&&I.m(b,null),g(l,G),h&&h.m(l,null),H=!0,D||(J=[Q(u,"click",e[15]),Q(f,"click",e[16]),Q(m,"click",e[17]),Q(v,"click",e[18])],D=!0)},p(a,y){if(y[0]&641){L=a[0];let p;for(p=0;p<L.length;p+=1){const $=Ue(a,L,p);S[p]?(S[p].p($,y),E(S[p],1)):(S[p]=Qe($),S[p].c(),E(S[p],1),S[p].m(t,null))}for(oe(),p=L.length;p<S.length;p+=1)me(p);le()}if(y[0]&1218){F=O;let p;for(p=0;p<F.length;p+=1){const $=Be(a,F,p);q[p]?q[p].p($,y):(q[p]=je($),q[p].c(),q[p].m(s,i))}for(;p<q.length;p+=1)q[p].d(1);q.length=F.length}(!H||y[0]&2)&&k(u,"optionsMode",a[1]),a[3]?I?(I.p(a,y),y[0]&8&&E(I,1)):(I=Ke(a),I.c(),E(I,1),I.m(b,null)):I&&(oe(),T(I,1,1,()=>{I=null}),le()),a[4]?h?(h.p(a,y),y[0]&16&&E(h,1)):(h=Je(a),h.c(),E(h,1),h.m(l,null)):h&&(oe(),T(h,1,1,()=>{h=null}),le())},i(a){if(!H){for(let y=0;y<L.length;y+=1)E(S[y]);E(I),E(h),H=!0}},o(a){S=S.filter(Boolean);for(let y=0;y<S.length;y+=1)T(S[y]);T(I),T(h),H=!1},d(a){a&&x(n),se(S,a),se(q,a),I&&I.d(),h&&h.d(),D=!1,U(J)}}}function xn(e){return e===2||e===5}function bn(e){return e<8}function co(e,n,t){let o,l,s=[],i=[],u=!1,r=!1,c=!1,f=!1,d=0;const m=w();function w(){const h=new Worker(new URL(""+new URL("sudokuGeneratorWorker.c51615e6.js",import.meta.url).href,self.location),{type:"module"});return h.onmessage=a=>{a.data.messageType===fe.positionProcessed?t(5,d=a.data.processedPositionsCount):a.data.messageType===fe.sudokuGenerated&&(t(0,s=Pe(a.data.generatedSudoku)),i=[],b(),setTimeout(()=>{t(4,f=!1),t(5,d=0)},1e3))},h.onerror=a=>{throw console.log(`Worker error: ${a.message}`),a},h}v();function v(){Xn()?(i=Yn(),t(0,s=B(i.at(-1)))):(t(0,s=Pe(rn())),A())}function A(){t(4,f=!0),m.postMessage({generateSudoku:!0})}function b(){i.push(B(s)),We(i)}function G(h,a){t(0,s=tt(s,h,a))}function H(h){t(0,s=lt(s,h,u)),b()}function D(){i.length>1&&(i.pop(),We(i),t(0,s=B(i.at(-1))))}function J(){t(2,r=ft(s)),t(3,c=!0),setTimeout(()=>t(3,c=!1),2e3)}const L=h=>G(h.row,h.column),S=h=>H(h),me=()=>t(1,u=!u),F=()=>A(),q=()=>D(),I=()=>J();return e.$$.update=()=>{e.$$.dirty[0]&1&&t(7,o=ut(s)),e.$$.dirty[0]&1&&t(6,l=rt(s))},[s,u,r,c,f,d,l,o,A,G,H,D,J,L,S,me,F,q,I]}class fo extends xe{constructor(n){super(),ke(this,n,co,ro,we,{},null,[-1,-1])}}function ao(e){let n,t,o;return t=new fo({}),{c(){n=_("main"),ln(t.$$.fragment),C(n,"class","svelte-66lomk")},m(l,s){V(l,n,s),Ie(t,n,null),o=!0},p:M,i(l){o||(E(t.$$.fragment,l),o=!0)},o(l){T(t.$$.fragment,l),o=!1},d(l){l&&x(n),ye(t)}}}class mo extends xe{constructor(n){super(),ke(this,n,null,ao,we,{})}}new mo({target:document.getElementById("app")});
