(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function t(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerpolicy&&(s.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?s.credentials="include":l.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(l){if(l.ep)return;l.ep=!0;const s=t(l);fetch(l.href,s)}})();function L(){}const Ke=e=>e;function Je(e){return e()}function qe(){return Object.create(null)}function P(e){e.forEach(Je)}function ge(e){return typeof e=="function"}function _e(e,n){return e!=e?n==n:e!==n||e&&typeof e=="object"||typeof e=="function"}function kn(e){return Object.keys(e).length===0}function $e(e){return e==null?"":e}const Xe=typeof window<"u";let xn=Xe?()=>window.performance.now():()=>Date.now(),Ce=Xe?e=>requestAnimationFrame(e):L;const Q=new Set;function Ye(e){Q.forEach(n=>{n.c(e)||(Q.delete(n),n.f())}),Q.size!==0&&Ce(Ye)}function bn(e){let n;return Q.size===0&&Ce(Ye),{promise:new Promise(t=>{Q.add(n={c:e,f:t})}),abort(){Q.delete(n)}}}function h(e,n){e.appendChild(n)}function Ze(e){if(!e)return document;const n=e.getRootNode?e.getRootNode():e.ownerDocument;return n&&n.host?n:e.ownerDocument}function Vn(e){const n=_("style");return En(Ze(e),n),n.sheet}function En(e,n){return h(e.head||e,n),n.sheet}function E(e,n,t){e.insertBefore(n,t||null)}function x(e){e.parentNode&&e.parentNode.removeChild(e)}function le(e,n){for(let t=0;t<e.length;t+=1)e[t]&&e[t].d(n)}function _(e){return document.createElement(e)}function B(e){return document.createTextNode(e)}function N(){return B(" ")}function we(){return B("")}function D(e,n,t,o){return e.addEventListener(n,t,o),()=>e.removeEventListener(n,t,o)}function C(e,n,t){t==null?e.removeAttribute(n):e.getAttribute(n)!==t&&e.setAttribute(n,t)}function Rn(e){return Array.from(e.childNodes)}function re(e,n){n=""+n,e.wholeText!==n&&(e.data=n)}function k(e,n,t){e.classList[t?"add":"remove"](n)}function An(e,n,{bubbles:t=!1,cancelable:o=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(e,t,o,n),l}const se=new Map;let ie=0;function qn(e){let n=5381,t=e.length;for(;t--;)n=(n<<5)-n^e.charCodeAt(t);return n>>>0}function Nn(e,n){const t={stylesheet:Vn(n),rules:{}};return se.set(e,t),t}function Gn(e,n,t,o,l,s,i,u=0){const r=16.666/o;let c=`{
`;for(let b=0;b<=1;b+=r){const H=n+(t-n)*s(b);c+=b*100+`%{${i(H,1-H)}}
`}const f=c+`100% {${i(t,1-t)}}
}`,d=`__svelte_${qn(f)}_${u}`,m=Ze(e),{stylesheet:w,rules:O}=se.get(m)||Nn(m,e);O[d]||(O[d]=!0,w.insertRule(`@keyframes ${d} ${f}`,w.cssRules.length));const q=e.style.animation||"";return e.style.animation=`${q?`${q}, `:""}${d} ${o}ms linear ${l}ms 1 both`,ie+=1,d}function Tn(e,n){const t=(e.style.animation||"").split(", "),o=t.filter(n?s=>s.indexOf(n)<0:s=>s.indexOf("__svelte")===-1),l=t.length-o.length;l&&(e.style.animation=o.join(", "),ie-=l,ie||Ln())}function Ln(){Ce(()=>{ie||(se.forEach(e=>{const{ownerNode:n}=e.stylesheet;n&&x(n)}),se.clear())})}let Se;function Y(e){Se=e}function Hn(e,n){const t=e.$$.callbacks[n.type];t&&t.slice().forEach(o=>o.call(this,n))}const X=[],Ne=[],ee=[],Ge=[],Mn=Promise.resolve();let me=!1;function Wn(){me||(me=!0,Mn.then(en))}function ue(e){ee.push(e)}const ae=new Set;let Z=0;function en(){const e=Se;do{for(;Z<X.length;){const n=X[Z];Z++,Y(n),Fn(n.$$)}for(Y(null),X.length=0,Z=0;Ne.length;)Ne.pop()();for(let n=0;n<ee.length;n+=1){const t=ee[n];ae.has(t)||(ae.add(t),t())}ee.length=0}while(X.length);for(;Ge.length;)Ge.pop()();me=!1,ae.clear(),Y(e)}function Fn(e){if(e.fragment!==null){e.update(),P(e.before_update);const n=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,n),e.after_update.forEach(ue)}}let $;function Bn(){return $||($=Promise.resolve(),$.then(()=>{$=null})),$}function Te(e,n,t){e.dispatchEvent(An(`${n?"intro":"outro"}${t}`))}const ne=new Set;let F;function te(){F={r:0,c:[],p:F}}function oe(){F.r||P(F.c),F=F.p}function R(e,n){e&&e.i&&(ne.delete(e),e.i(n))}function T(e,n,t,o){if(e&&e.o){if(ne.has(e))return;ne.add(e),F.c.push(()=>{ne.delete(e),o&&(t&&e.d(1),o())}),e.o(n)}else o&&o()}const Un={duration:0};function nn(e,n,t){let o=n(e,t),l=!0,s;const i=F;i.r+=1;function u(){const{delay:r=0,duration:c=300,easing:f=Ke,tick:d=L,css:m}=o||Un;m&&(s=Gn(e,1,0,c,r,f,m));const w=xn()+r,O=w+c;ue(()=>Te(e,!1,"start")),bn(q=>{if(l){if(q>=O)return d(0,1),Te(e,!1,"end"),--i.r||P(i.c),!1;if(q>=w){const b=f((q-w)/c);d(1-b,b)}}return l})}return ge(o)?Bn().then(()=>{o=o(),u()}):u(),{end(r){r&&o.tick&&o.tick(1,0),l&&(s&&Tn(e,s),l=!1)}}}function tn(e){e&&e.c()}function Oe(e,n,t,o){const{fragment:l,after_update:s}=e.$$;l&&l.m(n,t),o||ue(()=>{const i=e.$$.on_mount.map(Je).filter(ge);e.$$.on_destroy?e.$$.on_destroy.push(...i):P(i),e.$$.on_mount=[]}),s.forEach(ue)}function ve(e,n){const t=e.$$;t.fragment!==null&&(P(t.on_destroy),t.fragment&&t.fragment.d(n),t.on_destroy=t.fragment=null,t.ctx=[])}function Pn(e,n){e.$$.dirty[0]===-1&&(X.push(e),Wn(),e.$$.dirty.fill(0)),e.$$.dirty[n/31|0]|=1<<n%31}function Ie(e,n,t,o,l,s,i,u=[-1]){const r=Se;Y(e);const c=e.$$={fragment:null,ctx:[],props:s,update:L,not_equal:l,bound:qe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(r?r.$$.context:[])),callbacks:qe(),dirty:u,skip_bound:!1,root:n.target||r.$$.root};i&&i(c.root);let f=!1;if(c.ctx=t?t(e,n.props||{},(d,m,...w)=>{const O=w.length?w[0]:m;return c.ctx&&l(c.ctx[d],c.ctx[d]=O)&&(!c.skip_bound&&c.bound[d]&&c.bound[d](O),f&&Pn(e,d)),m}):[],c.update(),f=!0,P(c.before_update),c.fragment=o?o(c.ctx):!1,n.target){if(n.hydrate){const d=Rn(n.target);c.fragment&&c.fragment.l(d),d.forEach(x)}else c.fragment&&c.fragment.c();n.intro&&R(e.$$.fragment),Oe(e,n.target,n.anchor,n.customElement),en()}Y(r)}class ye{$destroy(){ve(this,1),this.$destroy=L}$on(n,t){if(!ge(t))return L;const o=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return o.push(t),()=>{const l=o.indexOf(t);l!==-1&&o.splice(l,1)}}$set(n){this.$$set&&!kn(n)&&(this.$$.skip_bound=!0,this.$$set(n),this.$$.skip_bound=!1)}}function on(e,{delay:n=0,duration:t=400,easing:o=Ke}={}){const l=+getComputedStyle(e).opacity;return{delay:n,duration:t,easing:o,css:s=>`opacity: ${s*l}`}}function Le(e,n,t){const o=e.slice();return o[7]=n[t],o}function zn(e){let n,t=e[3],o=[];for(let l=0;l<t.length;l+=1)o[l]=He(Le(e,t,l));return{c(){for(let l=0;l<o.length;l+=1)o[l].c();n=we()},m(l,s){for(let i=0;i<o.length;i+=1)o[i].m(l,s);E(l,n,s)},p(l,s){if(s&24){t=l[3];let i;for(i=0;i<t.length;i+=1){const u=Le(l,t,i);o[i]?o[i].p(u,s):(o[i]=He(u),o[i].c(),o[i].m(n.parentNode,n))}for(;i<o.length;i+=1)o[i].d(1);o.length=t.length}},d(l){le(o,l),l&&x(n)}}}function Dn(e){let n,t;return{c(){n=_("span"),t=B(e[2]),C(n,"class","svelte-1a31dr7"),k(n,"highlight",e[4]===e[2])},m(o,l){E(o,n,l),h(n,t)},p(o,l){l&4&&re(t,o[2]),l&20&&k(n,"highlight",o[4]===o[2])},d(o){o&&x(n)}}}function He(e){let n,t=e[7]+"",o;return{c(){n=_("span"),o=B(t),C(n,"class","svelte-1a31dr7"),k(n,"highlight",e[4]===e[7])},m(l,s){E(l,n,s),h(n,o)},p(l,s){s&8&&t!==(t=l[7]+"")&&re(o,t),s&24&&k(n,"highlight",l[4]===l[7])},d(l){l&&x(n)}}}function Qn(e){let n,t,o;function l(u,r){return u[2]?Dn:zn}let s=l(e),i=s(e);return{c(){n=_("div"),i.c(),C(n,"class","svelte-1a31dr7"),k(n,"isSet",e[2]),k(n,"isSelected",e[0]),k(n,"isSiblingSelected",e[1]),k(n,"isLocked",e[5])},m(u,r){E(u,n,r),i.m(n,null),t||(o=D(n,"click",e[6]),t=!0)},p(u,[r]){s===(s=l(u))&&i?i.p(u,r):(i.d(1),i=s(u),i&&(i.c(),i.m(n,null))),r&4&&k(n,"isSet",u[2]),r&1&&k(n,"isSelected",u[0]),r&2&&k(n,"isSiblingSelected",u[1]),r&32&&k(n,"isLocked",u[5])},i:L,o:L,d(u){u&&x(n),i.d(),t=!1,o()}}}function jn(e,n,t){let{isSelected:o}=n,{isSiblingSelected:l}=n,{value:s}=n,{options:i}=n,{numberToHighlight:u}=n,{isLocked:r}=n;function c(f){Hn.call(this,e,f)}return e.$$set=f=>{"isSelected"in f&&t(0,o=f.isSelected),"isSiblingSelected"in f&&t(1,l=f.isSiblingSelected),"value"in f&&t(2,s=f.value),"options"in f&&t(3,i=f.options),"numberToHighlight"in f&&t(4,u=f.numberToHighlight),"isLocked"in f&&t(5,r=f.isLocked)},[o,l,s,i,u,r,c]}class Kn extends ye{constructor(n){super(),Ie(this,n,jn,Qn,_e,{isSelected:0,isSiblingSelected:1,value:2,options:3,numberToHighlight:4,isLocked:5})}}const y=[1,2,3,4,5,6,7,8,9],A=0;function ln(){return Array(9).fill("")}function sn(){const e=[];for(let n=0;n<y.length;n++){const t=Array(y.length).fill(A);e.push(t)}return e}function U(e){return JSON.parse(JSON.stringify(e))}function j(e){return new Set(e).size===e.length}function un(e){return e.sort((n,t)=>.5-Math.random())}const ke="boardHistory";function Jn(){return localStorage.getItem(ke)!==null}function $n(){const e=localStorage.getItem(ke);return JSON.parse(e)}function Me(e){localStorage.setItem(ke,JSON.stringify(e))}function rn(e){let n=st(e);return et(n),pe(n),nt(n)||(n=Xn(n)),pt(n)}function Xn(e){let n=U(e);const t=[];e:for(let o=0;o<y.length;o++)for(let l=0;l<y.length;l++){for(pe(n);!ce(n);)if(t.length>0){const i=t.pop();n=i.board,o=i.rowIndex,l=i.columnIndex,pe(n)}else break e;const s=n.cellRows[o][l];pn(s)||Yn(s,o,l,n,t)}return n}function Yn(e,n,t,o,l){const s=e.options.filter(u=>u!==A);if(s.length<2)throw new Error("Found a cell with less than 2 options, not sure what to do here...");const i=s[Math.floor(Math.random()*s.length)];Zn(i,n,t,o,l),e.onlyOptionValue=i,cn(e,o)}function Zn(e,n,t,o,l){const s=U(o),i=s.cellRows[n][t];i.options[e]=A,i.optionsCount--,i.optionsCount===1&&s.singleOptionCellCoordinates.push({rowIndex:i.rowIndex,columnIndex:i.columnIndex}),fn(e,i,s),l.push({board:s,rowIndex:n,columnIndex:t})}function et(e){ut(e),at(e)}function ce(e){return!e.hasCellWithNoOptions&&!e.hasCellThatIsOnlyOptionForMultipleValues}function nt(e){return e.valuesCount===81}function pe(e){for(;ce(e)&&tt(e);)ot(e),dt(e)}function tt(e){return e.singleOptionCellCoordinates.length>0||e.onlyOptionCellCoordinates.length>0}function ot(e){for(;e.onlyOptionCellCoordinates.length>0&&ce(e);){const n=e.onlyOptionCellCoordinates.shift(),t=e.cellRows[n.rowIndex][n.columnIndex];t.value||cn(t,e)}}function cn(e,n){const t=e.onlyOptionValue;Cn(e,t,n);const o=e.options.filter(l=>l!==t&&l!==A);be(e),lt(e,o,n)}function lt(e,n,t){n.forEach(o=>{fn(o,e,t)})}function fn(e,n,t){an(e,n,t),dn(e,n,t),mn(e,n,t)}function an(e,n,t){const o=t.rowsOptionsCounts[n.rowIndex];o[e]--,o[e]===1&&_n(e,n.rowIndex,t)}function dn(e,n,t){const o=t.columnsOptionsCounts[n.columnIndex];o[e]--,o[e]===1&&gn(e,n.columnIndex,t)}function mn(e,n,t){const o=t.squaresOptionsCounts[n.squareIndex];o[e]--,o[e]===1&&hn(e,n.squareIndex,t)}function st(e){const n=()=>Array(y.length+1).fill(0),t=()=>Array(y.length).fill().map(n),o={cellRows:Array(y.length).fill().map(()=>Array()),valuesCount:0,rowsOptionsCounts:t(),columnsOptionsCounts:t(),squaresOptionsCounts:t(),singleOptionCellCoordinates:[],onlyOptionCellCoordinates:[],hasCellWithNoOptions:!1,hasCellThatIsOnlyOptionForMultipleValues:!1};return e.forEach((l,s)=>{l.forEach((i,u)=>{const r=Ot(s,u),c=it(i,s,u,r);i!==A&&(o.valuesCount++,be(c)),o.cellRows[s].push(c)})}),o}function it(e,n,t,o){return{value:e,rowIndex:n,columnIndex:t,squareIndex:o,optionsCount:0,options:Array(y.length+1).fill(0)}}function ut(e){e.cellRows.forEach(n=>{n.forEach(t=>{pn(t)||(rt(t,e),t.optionsCount===0&&(e.hasCellWithNoOptions=!0),t.optionsCount===1&&e.singleOptionCellCoordinates.push({rowIndex:t.rowIndex,columnIndex:t.columnIndex}))})})}function pn(e){return e.value!==A}function rt(e,n){y.forEach(t=>{ct(t,e,n)&&ft(t,e,n)})}function ct(e,n,t){const o=u=>u.value===e,l=()=>t.cellRows[n.rowIndex].some(o),s=()=>t.cellRows.some(u=>o(u[n.columnIndex])),i=()=>{const u=Ee(n.squareIndex);for(let r=u.minRow;r<=u.maxRow;r++)for(let c=u.minColumn;c<=u.maxColumn;c++)if(o(t.cellRows[r][c]))return!0;return!1};return!l()&&!s()&&!i()}function ft(e,n,t){n.options[e]=e,n.optionsCount++,t.rowsOptionsCounts[n.rowIndex][e]++,t.columnsOptionsCounts[n.columnIndex][e]++,t.squaresOptionsCounts[n.squareIndex][e]++}function at(e){e.rowsOptionsCounts.forEach((n,t)=>{de(n,t,e,_n)}),e.columnsOptionsCounts.forEach((n,t)=>{de(n,t,e,gn)}),e.squaresOptionsCounts.forEach((n,t)=>{de(n,t,e,hn)})}function de(e,n,t,o){e.forEach((l,s)=>{l===1&&o(s,n,t)})}function hn(e,n,t){let o;const l=Ee(n);e:for(let s=l.minRow;s<=l.maxRow;s++)for(let i=l.minColumn;i<=l.maxColumn;i++){const u=t.cellRows[s][i];if(u.options&&u.options.includes(e)){o=u;break e}}xe(e,o,t)}function gn(e,n,t){let o;for(let l=0;l<y.length;l++){const s=t.cellRows[l][n];if(s.options&&s.options.includes(e)){o=s;break}}xe(e,o,t)}function _n(e,n,t){const o=t.cellRows[n].find(l=>l.options&&l.options.includes(e));xe(e,o,t)}function xe(e,n,t){n.optionsCount===1||(n.onlyOptionValue?n.onlyOptionValue!==e&&(t.hasCellThatIsOnlyOptionForMultipleValues=!0):(n.onlyOptionValue=e,t.onlyOptionCellCoordinates.push({rowIndex:n.rowIndex,columnIndex:n.columnIndex})))}function dt(e){for(;e.singleOptionCellCoordinates.length>0&&ce(e);){const n=e.singleOptionCellCoordinates.shift(),t=e.cellRows[n.rowIndex][n.columnIndex];t.value||mt(t,e)}}function mt(e,n){const t=e.options.find(o=>o!==A);Cn(e,t,n),be(e)}function be(e){e.options=null,e.optionsCount=0}function Cn(e,n,t){e.value=n,t.valuesCount++,gt(e,n,t),ht(e,n,t)}function pt(e){const n=[];return e.cellRows.forEach(t=>{const o=[];t.forEach(l=>{o.push(l.value)}),n.push(o)}),n}function ht(e,n,t){_t(e,t).forEach(l=>{l.options[n]!==A&&(l.options[n]=A,l.optionsCount--,l.optionsCount===1&&t.singleOptionCellCoordinates.push({rowIndex:l.rowIndex,columnIndex:l.columnIndex}),l.optionsCount===0&&(t.hasCellWithNoOptions=!0),l.rowIndex!==e.rowIndex&&an(n,l,t),l.columnIndex!==e.columnIndex&&dn(n,l,t),l.squareIndex!==e.squareIndex&&mn(n,l,t))})}function gt(e,n,t){t.rowsOptionsCounts[e.rowIndex][n]=0,t.columnsOptionsCounts[e.columnIndex][n]=0,t.squaresOptionsCounts[e.squareIndex][n]=0}function _t(e,n){const t=Ct(e,n),o=wt(e,n),l=St(e,n).filter(s=>s.rowIndex!==e.rowIndex&&s.columnIndex!==e.columnIndex);return[...t,...o,...l]}function Ct(e,n){return n.cellRows[e.rowIndex].filter(t=>Ve(t,e))}function wt(e,n){const t=[];return n.cellRows.forEach(o=>{const l=o[e.columnIndex];Ve(l,e)&&t.push(l)}),t}function St(e,n){const t=[],o=Ee(e.squareIndex);for(let l=o.minRow;l<=o.maxRow;l++)for(let s=o.minColumn;s<=o.maxColumn;s++){const i=n.cellRows[l][s];Ve(i,e)&&t.push(i)}return t}function Ve(e,n){return e!==n&&e.options}function Ot(e,n){const t=[0,0,0,3,3,3,6,6,6],o=[0,0,0,1,1,1,2,2,2],l=t[e],s=o[n];return l+s}function Ee(e){const n=[0,0,0,3,3,3,6,6,6],t=[2,2,2,5,5,5,8,8,8],o=[0,3,6,0,3,6,0,3,6],l=[2,5,8,2,5,8,2,5,8];return{minRow:n[e],maxRow:t[e],minColumn:o[e],maxColumn:l[e]}}function vt(){return yt()}function It(e){return wn(rn(e))}function yt(){const e=Nt();return kt(e)}function kt(e){return bt().forEach(t=>{xt(t,e)}),e}function xt(e,n){const t=n[e.row][e.column];n[e.row][e.column]=A,Vt(n)||(n[e.row][e.column]=t)}function bt(){return un(Rt())}function Vt(e){return Et(e)===1}function Et(e){if(!At(e))return wn(e)?1:0;const n=2;let t=0;for(let o=0;o<y.length;o++)for(let l=0;l<y.length;l++)if(qt(e,o,l)){let s=0;const i=un(Wt(e,o,l));for(let u=0;u<i.length;u++){const r=U(e);if(r[o][l]=i[u],It(r)){if(s++,s===n)return s;t=s}}}return t}function Rt(){const e=[];return y.forEach((n,t)=>{y.forEach((o,l)=>{e.push({row:t,column:l})})}),e}function At(e){return e.flat().some(n=>n===A)}function qt(e,n,t){return e[n][t]===A}function Nt(){return rn(sn())}function wn(e){return Tt(e)}function Gt(e){return e.flat().every(n=>y.includes(n))}function Tt(e){return Gt(e)&&Lt(e)&&Ht(e)&&Mt(e)}function Lt(e){return e.every(n=>j(n))}function Ht(e){return y.every((n,t)=>{const o=Sn(e,t);return j(o)})}function Mt(e){const n=[0,4,7],t=n,o=n;return t.every(l=>o.every(s=>{const i=he(e,l,s);return j(i)}))}function Wt(e,n,t,o=!1){const l=Ut(e,n),s=Sn(e,t),i=he(e,n,t);if(!o&&Ft(t)&&Bt(n)){const d=he(e,n,8).filter(m=>!l.includes(m)&&!s.includes(m)&&!i.includes(m));if(d.length>0)return d}const u=[...l,...s,...i];return y.filter(c=>!u.includes(c))}function Ft(e){return[3,4,5].includes(e)}function Bt(e){return[1,4,7].includes(e)}function he(e,n,t){const o=[[0,1,2],[3,4,5],[6,7,8]],l=o.find(u=>u.includes(n)),s=o.find(u=>u.includes(t)),i=[];return l.forEach(u=>{s.forEach(r=>{i.push(e[u][r])})}),Re(i)}function Sn(e,n){const t=[];for(let o=0;o<y.length;o++)t.push(e[o][n]);return Re(t)}function Ut(e,n){return Re(e[n])}function Re(e){return e.filter(n=>n!==A)}function We(e){const n=[[1,2,3],[4,5,6],[7,8,9]],t=n,o=n,l=e||vt(),s=[];return t.forEach(i=>{o.forEach(u=>{const r=[];i.forEach(c=>{u.forEach(f=>{r.push(Pt(l,c,f))})}),s.push(r)})}),s}function Pt(e,n,t){const o=Ae(n,t),l=zt(e,n,t);return l!==0&&(o.value=l,o.isLocked=!0),o}function Ae(e,n){return{row:e,column:n,value:"",isSelected:!1,isSiblingSelected:!1,options:ln(),isLocked:!1}}function zt(e,n,t){return e[n-1][t-1]}function Dt(e,n,t){return e.map(o=>o.map(l=>(l.isSelected=l.row===n&&l.column===t,l.isSiblingSelected=On(l,Ae(n,t)),l)))}function On(e,n){if(e.row===n.row&&e.column===n.column)return!1;const o=e.row===n.row,l=e.column===n.column;return o||l||Qt(e,n)}function Qt(e,n){const t=[[1,2,3],[4,5,6],[7,8,9]],o=t.find(s=>s.includes(e.row)),l=t.find(s=>s.includes(e.column));return o.includes(n.row)&&l.includes(n.column)}function jt(e,n,t){const o=vn(e);if(!(!o||o.isLocked))return t?Jt(o,n):(o.value=n,o.options=ln(),Kt(e,o,n)),e}function Kt(e,n,t){const o=t-1;e.forEach(l=>{l.forEach(s=>{On(s,n)&&(s.options[o]="")})})}function Jt(e,n){const t=n-1;e.options[t]?e.options[t]="":e.options[t]=n}function $t(e){const n=vn(e);return n?U(n):Ae(0,0)}function vn(e){return e.flat().find(n=>n.isSelected)}function Xt(e){const n=Array(10);for(let t=1;t<=9;t++)n[t]=Yt(e,t);return n}function Yt(e,n){let t=9;return e.forEach(o=>{o.forEach(l=>{l.value===n&&t--})}),t}function Zt(e){return eo(e)&&no(e)&&to(e)}function eo(e){const n=e.flat();for(let t=1;t<=9;t++){const o=n.filter(l=>l.row===t&&l.value>0).map(l=>l.value);if(!j(o))return!1}return!0}function no(e){const n=e.flat();for(let t=1;t<=9;t++){const o=n.filter(l=>l.column===t&&l.value>0).map(l=>l.value);if(!j(o))return!1}return!0}function to(e){return e.forEach(n=>{const t=n.filter(o=>o.value>0);if(!j(t))return!1}),!0}function Fe(e,n,t){const o=e.slice();return o[25]=n[t],o}function Be(e,n,t){const o=e.slice();return o[28]=n[t],o[30]=t,o}function Ue(e,n,t){const o=e.slice();return o[31]=n[t],o[33]=t,o}function oo(e){let n;return{c(){n=_("div"),C(n,"class",$e(`${In(e[33])?"horizontal":"vertical"}-divider`)+" svelte-1fm4p2s")},m(t,o){E(t,n,o)},p:L,d(t){t&&x(n)}}}function Pe(e){let n,t,o=yn(e[33]),l,s;function i(){return e[13](e[31])}n=new Kn({props:{isSelected:e[31].isSelected,isSiblingSelected:e[31].isSiblingSelected,value:e[31].value,options:e[31].options,numberToHighlight:e[7].value,isLocked:e[31].isLocked}}),n.$on("click",i);let u=o&&oo(e);return{c(){tn(n.$$.fragment),t=N(),u&&u.c(),l=we()},m(r,c){Oe(n,r,c),E(r,t,c),u&&u.m(r,c),E(r,l,c),s=!0},p(r,c){e=r;const f={};c[0]&1&&(f.isSelected=e[31].isSelected),c[0]&1&&(f.isSiblingSelected=e[31].isSiblingSelected),c[0]&1&&(f.value=e[31].value),c[0]&1&&(f.options=e[31].options),c[0]&128&&(f.numberToHighlight=e[7].value),c[0]&1&&(f.isLocked=e[31].isLocked),n.$set(f),o&&u.p(e,c)},i(r){s||(R(n.$$.fragment,r),s=!0)},o(r){T(n.$$.fragment,r),s=!1},d(r){ve(n,r),r&&x(t),u&&u.d(r),r&&x(l)}}}function lo(e){let n;return{c(){n=_("div"),C(n,"class",$e(`${In(e[30])?"horizontal":"vertical"}-divider`)+" svelte-1fm4p2s")},m(t,o){E(t,n,o)},p:L,d(t){t&&x(n)}}}function ze(e){let n,t,o=yn(e[30]),l,s,i=e[28],u=[];for(let f=0;f<i.length;f+=1)u[f]=Pe(Ue(e,i,f));const r=f=>T(u[f],1,1,()=>{u[f]=null});let c=o&&lo(e);return{c(){n=_("div");for(let f=0;f<u.length;f+=1)u[f].c();t=N(),c&&c.c(),l=we(),C(n,"class","cell-group svelte-1fm4p2s")},m(f,d){E(f,n,d);for(let m=0;m<u.length;m+=1)u[m].m(n,null);E(f,t,d),c&&c.m(f,d),E(f,l,d),s=!0},p(f,d){if(d[0]&641){i=f[28];let m;for(m=0;m<i.length;m+=1){const w=Ue(f,i,m);u[m]?(u[m].p(w,d),R(u[m],1)):(u[m]=Pe(w),u[m].c(),R(u[m],1),u[m].m(n,null))}for(te(),m=i.length;m<u.length;m+=1)r(m);oe()}o&&c.p(f,d)},i(f){if(!s){for(let d=0;d<i.length;d+=1)R(u[d]);s=!0}},o(f){u=u.filter(Boolean);for(let d=0;d<u.length;d+=1)T(u[d]);s=!1},d(f){f&&x(n),le(u,f),f&&x(t),c&&c.d(f),f&&x(l)}}}function De(e){let n,t,o=e[25]+"",l,s,i,u=e[6][e[25]]+"",r,c,f,d;function m(){return e[14](e[25])}return{c(){n=_("button"),t=_("div"),l=B(o),s=N(),i=_("div"),r=B(u),C(t,"class","number-input svelte-1fm4p2s"),n.disabled=c=e[6][e[25]]<=0,C(n,"class","svelte-1fm4p2s"),k(n,"highlight",e[1]&&e[7].options.includes(e[25]))},m(w,O){E(w,n,O),h(n,t),h(t,l),h(n,s),h(n,i),h(i,r),f||(d=D(n,"click",m),f=!0)},p(w,O){e=w,O[0]&64&&u!==(u=e[6][e[25]]+"")&&re(r,u),O[0]&64&&c!==(c=e[6][e[25]]<=0)&&(n.disabled=c),O[0]&130&&k(n,"highlight",e[1]&&e[7].options.includes(e[25]))},d(w){w&&x(n),f=!1,d()}}}function Qe(e){let n,t=e[2]?"Is":"Is Not",o,l,s,i;return{c(){n=_("div"),o=B(t),l=B(" Valid!"),C(n,"class","svelte-1fm4p2s"),k(n,"isValid",e[2])},m(u,r){E(u,n,r),h(n,o),h(n,l),i=!0},p(u,r){(!i||r[0]&4)&&t!==(t=u[2]?"Is":"Is Not")&&re(o,t),(!i||r[0]&4)&&k(n,"isValid",u[2])},i(u){i||(s&&s.end(1),i=!0)},o(u){s=nn(n,on,{}),i=!1},d(u){u&&x(n),u&&s&&s.end()}}}function je(e){let n,t,o,l,s,i,u;return{c(){n=_("div"),t=_("dialog"),o=_("p"),o.textContent="Generating a new random single-solution sudoku with minimal clues.",l=N(),s=_("progress"),C(s,"type","range"),s.value=e[5],C(s,"min","0"),C(s,"max","80"),C(s,"class","svelte-1fm4p2s"),t.open=!0,C(t,"class","svelte-1fm4p2s"),C(n,"class","dialog-container svelte-1fm4p2s")},m(r,c){E(r,n,c),h(n,t),h(t,o),h(t,l),h(t,s),u=!0},p(r,c){(!u||c[0]&32)&&(s.value=r[5])},i(r){u||(i&&i.end(1),u=!0)},o(r){i=nn(t,on,{}),u=!1},d(r){r&&x(n),r&&i&&i.end()}}}function so(e){let n,t,o,l,s,i,u,r,c,f,d,m,w,O,q,b,H,M,z,K,G=e[0],S=[];for(let a=0;a<G.length;a+=1)S[a]=ze(Be(e,G,a));const fe=a=>T(S[a],1,1,()=>{S[a]=null});let W=y,V=[];for(let a=0;a<W.length;a+=1)V[a]=De(Fe(e,W,a));let v=e[3]&&Qe(e),I=e[4]&&je(e);return{c(){n=_("div"),t=_("div");for(let a=0;a<S.length;a+=1)S[a].c();o=N(),l=_("div"),s=_("div");for(let a=0;a<V.length;a+=1)V[a].c();i=N(),u=_("button"),u.textContent="Options Mode",r=N(),c=_("div"),f=_("button"),f.textContent="New Game",d=N(),m=_("button"),m.textContent="Undo",w=N(),O=_("button"),O.textContent="Validate",q=N(),b=_("div"),v&&v.c(),H=N(),I&&I.c(),C(t,"class","board svelte-1fm4p2s"),C(u,"class","svelte-1fm4p2s"),k(u,"optionsMode",e[1]),C(s,"class","number-inputs svelte-1fm4p2s"),C(f,"class","svelte-1fm4p2s"),C(m,"class","svelte-1fm4p2s"),C(O,"class","svelte-1fm4p2s"),C(c,"class","controls svelte-1fm4p2s"),C(b,"class","validity svelte-1fm4p2s"),C(l,"class","inputs svelte-1fm4p2s"),C(n,"class","game svelte-1fm4p2s")},m(a,g){E(a,n,g),h(n,t);for(let p=0;p<S.length;p+=1)S[p].m(t,null);h(n,o),h(n,l),h(l,s);for(let p=0;p<V.length;p+=1)V[p].m(s,null);h(s,i),h(s,u),h(l,r),h(l,c),h(c,f),h(c,d),h(c,m),h(c,w),h(c,O),h(l,q),h(l,b),v&&v.m(b,null),h(l,H),I&&I.m(l,null),M=!0,z||(K=[D(u,"click",e[15]),D(f,"click",e[16]),D(m,"click",e[17]),D(O,"click",e[18])],z=!0)},p(a,g){if(g[0]&641){G=a[0];let p;for(p=0;p<G.length;p+=1){const J=Be(a,G,p);S[p]?(S[p].p(J,g),R(S[p],1)):(S[p]=ze(J),S[p].c(),R(S[p],1),S[p].m(t,null))}for(te(),p=G.length;p<S.length;p+=1)fe(p);oe()}if(g[0]&1218){W=y;let p;for(p=0;p<W.length;p+=1){const J=Fe(a,W,p);V[p]?V[p].p(J,g):(V[p]=De(J),V[p].c(),V[p].m(s,i))}for(;p<V.length;p+=1)V[p].d(1);V.length=W.length}(!M||g[0]&2)&&k(u,"optionsMode",a[1]),a[3]?v?(v.p(a,g),g[0]&8&&R(v,1)):(v=Qe(a),v.c(),R(v,1),v.m(b,null)):v&&(te(),T(v,1,1,()=>{v=null}),oe()),a[4]?I?(I.p(a,g),g[0]&16&&R(I,1)):(I=je(a),I.c(),R(I,1),I.m(l,null)):I&&(te(),T(I,1,1,()=>{I=null}),oe())},i(a){if(!M){for(let g=0;g<G.length;g+=1)R(S[g]);R(v),R(I),M=!0}},o(a){S=S.filter(Boolean);for(let g=0;g<S.length;g+=1)T(S[g]);T(v),T(I),M=!1},d(a){a&&x(n),le(S,a),le(V,a),v&&v.d(),I&&I.d(),z=!1,P(K)}}}function In(e){return e===2||e===5}function yn(e){return e<8}function io(e,n,t){let o,l,s=[],i=[],u=!1,r=!1,c=!1,f=!1,d=0;const m=w();function w(){const a=new Worker(new URL(""+new URL("sudokuGeneratorWorker.c8fd0fdc.js",import.meta.url).href,self.location),{type:"module"});return a.onmessage=g=>{g.data.messageType==="positionProcessed"?t(5,d=g.data.processedPositionsCount):g.data.messageType==="sudokuGenerated"&&(t(0,s=We(g.data.generatedSudoku)),i=[],H(),setTimeout(()=>t(4,f=!1),1e3))},a.onerror=g=>{throw console.log(`Worker error: ${g.message}`),g},a}function O(){m.postMessage({generateSudoku:!0})}q();function q(){Jn()?(i=$n(),t(0,s=U(i.at(-1)))):(t(0,s=We(sn())),b())}function b(){t(4,f=!0),O()}function H(){i.push(U(s)),Me(i)}function M(a,g){t(0,s=Dt(s,a,g))}function z(a){t(0,s=jt(s,a,u)),H()}function K(){i.length>1&&(i.pop(),Me(i),t(0,s=U(i.at(-1))))}function G(){t(2,r=Zt(s)),t(3,c=!0),setTimeout(()=>t(3,c=!1),2e3)}const S=a=>M(a.row,a.column),fe=a=>z(a),W=()=>t(1,u=!u),V=()=>b(),v=()=>K(),I=()=>G();return e.$$.update=()=>{e.$$.dirty[0]&1&&t(7,o=$t(s)),e.$$.dirty[0]&1&&t(6,l=Xt(s))},[s,u,r,c,f,d,l,o,b,M,z,K,G,S,fe,W,V,v,I]}class uo extends ye{constructor(n){super(),Ie(this,n,io,so,_e,{},null,[-1,-1])}}function ro(e){let n,t,o;return t=new uo({}),{c(){n=_("main"),tn(t.$$.fragment),C(n,"class","svelte-66lomk")},m(l,s){E(l,n,s),Oe(t,n,null),o=!0},p:L,i(l){o||(R(t.$$.fragment,l),o=!0)},o(l){T(t.$$.fragment,l),o=!1},d(l){l&&x(n),ve(t)}}}class co extends ye{constructor(n){super(),Ie(this,n,null,ro,_e,{})}}new co({target:document.getElementById("app")});
