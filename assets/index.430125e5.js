(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function t(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerpolicy&&(i.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?i.credentials="include":l.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(l){if(l.ep)return;l.ep=!0;const i=t(l);fetch(l.href,i)}})();function T(){}const Qe=e=>e;function je(e){return e()}function Ae(){return Object.create(null)}function U(e){e.forEach(je)}function ge(e){return typeof e=="function"}function _e(e,n){return e!=e?n==n:e!==n||e&&typeof e=="object"||typeof e=="function"}function On(e){return Object.keys(e).length===0}function Ke(e){return e==null?"":e}const Je=typeof window<"u";let yn=Je?()=>window.performance.now():()=>Date.now(),Ce=Je?e=>requestAnimationFrame(e):T;const P=new Set;function Xe(e){P.forEach(n=>{n.c(e)||(P.delete(n),n.f())}),P.size!==0&&Ce(Xe)}function vn(e){let n;return P.size===0&&Ce(Xe),{promise:new Promise(t=>{P.add(n={c:e,f:t})}),abort(){P.delete(n)}}}function h(e,n){e.appendChild(n)}function Ye(e){if(!e)return document;const n=e.getRootNode?e.getRootNode():e.ownerDocument;return n&&n.host?n:e.ownerDocument}function In(e){const n=C("style");return kn(Ye(e),n),n.sheet}function kn(e,n){return h(e.head||e,n),n.sheet}function V(e,n,t){e.insertBefore(n,t||null)}function x(e){e.parentNode&&e.parentNode.removeChild(e)}function oe(e,n){for(let t=0;t<e.length;t+=1)e[t]&&e[t].d(n)}function C(e){return document.createElement(e)}function B(e){return document.createTextNode(e)}function G(){return B(" ")}function we(){return B("")}function z(e,n,t,o){return e.addEventListener(n,t,o),()=>e.removeEventListener(n,t,o)}function S(e,n,t){t==null?e.removeAttribute(n):e.getAttribute(n)!==t&&e.setAttribute(n,t)}function xn(e){return Array.from(e.childNodes)}function ue(e,n){n=""+n,e.wholeText!==n&&(e.data=n)}function v(e,n,t){e.classList[t?"add":"remove"](n)}function bn(e,n,{bubbles:t=!1,cancelable:o=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(e,t,o,n),l}const le=new Map;let ie=0;function Vn(e){let n=5381,t=e.length;for(;t--;)n=(n<<5)-n^e.charCodeAt(t);return n>>>0}function En(e,n){const t={stylesheet:In(n),rules:{}};return le.set(e,t),t}function Rn(e,n,t,o,l,i,s,u=0){const f=16.666/o;let r=`{
`;for(let b=0;b<=1;b+=f){const L=n+(t-n)*i(b);r+=b*100+`%{${s(L,1-L)}}
`}const c=r+`100% {${s(t,1-t)}}
}`,a=`__svelte_${Vn(c)}_${u}`,d=Ye(e),{stylesheet:g,rules:w}=le.get(d)||En(d,e);w[a]||(w[a]=!0,g.insertRule(`@keyframes ${a} ${c}`,g.cssRules.length));const q=e.style.animation||"";return e.style.animation=`${q?`${q}, `:""}${a} ${o}ms linear ${l}ms 1 both`,ie+=1,a}function qn(e,n){const t=(e.style.animation||"").split(", "),o=t.filter(n?i=>i.indexOf(n)<0:i=>i.indexOf("__svelte")===-1),l=t.length-o.length;l&&(e.style.animation=o.join(", "),ie-=l,ie||An())}function An(){Ce(()=>{ie||(le.forEach(e=>{const{ownerNode:n}=e.stylesheet;n&&x(n)}),le.clear())})}let Se;function Y(e){Se=e}function Nn(e,n){const t=e.$$.callbacks[n.type];t&&t.slice().forEach(o=>o.call(this,n))}const X=[],Ne=[],ne=[],Ge=[],Gn=Promise.resolve();let ae=!1;function Tn(){ae||(ae=!0,Gn.then(Ze))}function se(e){ne.push(e)}const ce=new Set;let ee=0;function Ze(){const e=Se;do{for(;ee<X.length;){const n=X[ee];ee++,Y(n),Hn(n.$$)}for(Y(null),X.length=0,ee=0;Ne.length;)Ne.pop()();for(let n=0;n<ne.length;n+=1){const t=ne[n];ce.has(t)||(ce.add(t),t())}ne.length=0}while(X.length);for(;Ge.length;)Ge.pop()();ae=!1,ce.clear(),Y(e)}function Hn(e){if(e.fragment!==null){e.update(),U(e.before_update);const n=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,n),e.after_update.forEach(se)}}let J;function Ln(){return J||(J=Promise.resolve(),J.then(()=>{J=null})),J}function Te(e,n,t){e.dispatchEvent(bn(`${n?"intro":"outro"}${t}`))}const te=new Set;let M;function de(){M={r:0,c:[],p:M}}function pe(){M.r||U(M.c),M=M.p}function A(e,n){e&&e.i&&(te.delete(e),e.i(n))}function F(e,n,t,o){if(e&&e.o){if(te.has(e))return;te.add(e),M.c.push(()=>{te.delete(e),o&&(t&&e.d(1),o())}),e.o(n)}else o&&o()}const Mn={duration:0};function Fn(e,n,t){let o=n(e,t),l=!0,i;const s=M;s.r+=1;function u(){const{delay:f=0,duration:r=300,easing:c=Qe,tick:a=T,css:d}=o||Mn;d&&(i=Rn(e,1,0,r,f,c,d));const g=yn()+f,w=g+r;se(()=>Te(e,!1,"start")),vn(q=>{if(l){if(q>=w)return a(0,1),Te(e,!1,"end"),--s.r||U(s.c),!1;if(q>=g){const b=c((q-g)/r);a(1-b,b)}}return l})}return ge(o)?Ln().then(()=>{o=o(),u()}):u(),{end(f){f&&o.tick&&o.tick(1,0),l&&(i&&qn(e,i),l=!1)}}}function en(e){e&&e.c()}function Oe(e,n,t,o){const{fragment:l,after_update:i}=e.$$;l&&l.m(n,t),o||se(()=>{const s=e.$$.on_mount.map(je).filter(ge);e.$$.on_destroy?e.$$.on_destroy.push(...s):U(s),e.$$.on_mount=[]}),i.forEach(se)}function ye(e,n){const t=e.$$;t.fragment!==null&&(U(t.on_destroy),t.fragment&&t.fragment.d(n),t.on_destroy=t.fragment=null,t.ctx=[])}function Bn(e,n){e.$$.dirty[0]===-1&&(X.push(e),Tn(),e.$$.dirty.fill(0)),e.$$.dirty[n/31|0]|=1<<n%31}function ve(e,n,t,o,l,i,s,u=[-1]){const f=Se;Y(e);const r=e.$$={fragment:null,ctx:[],props:i,update:T,not_equal:l,bound:Ae(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(f?f.$$.context:[])),callbacks:Ae(),dirty:u,skip_bound:!1,root:n.target||f.$$.root};s&&s(r.root);let c=!1;if(r.ctx=t?t(e,n.props||{},(a,d,...g)=>{const w=g.length?g[0]:d;return r.ctx&&l(r.ctx[a],r.ctx[a]=w)&&(!r.skip_bound&&r.bound[a]&&r.bound[a](w),c&&Bn(e,a)),d}):[],r.update(),c=!0,U(r.before_update),r.fragment=o?o(r.ctx):!1,n.target){if(n.hydrate){const a=xn(n.target);r.fragment&&r.fragment.l(a),a.forEach(x)}else r.fragment&&r.fragment.c();n.intro&&A(e.$$.fragment),Oe(e,n.target,n.anchor,n.customElement),Ze()}Y(f)}class Ie{$destroy(){ye(this,1),this.$destroy=T}$on(n,t){if(!ge(t))return T;const o=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return o.push(t),()=>{const l=o.indexOf(t);l!==-1&&o.splice(l,1)}}$set(n){this.$$set&&!On(n)&&(this.$$.skip_bound=!0,this.$$set(n),this.$$.skip_bound=!1)}}function Wn(e,{delay:n=0,duration:t=400,easing:o=Qe}={}){const l=+getComputedStyle(e).opacity;return{delay:n,duration:t,easing:o,css:i=>`opacity: ${i*l}`}}function He(e,n,t){const o=e.slice();return o[7]=n[t],o}function Dn(e){let n,t=e[3],o=[];for(let l=0;l<t.length;l+=1)o[l]=Le(He(e,t,l));return{c(){for(let l=0;l<o.length;l+=1)o[l].c();n=we()},m(l,i){for(let s=0;s<o.length;s+=1)o[s].m(l,i);V(l,n,i)},p(l,i){if(i&24){t=l[3];let s;for(s=0;s<t.length;s+=1){const u=He(l,t,s);o[s]?o[s].p(u,i):(o[s]=Le(u),o[s].c(),o[s].m(n.parentNode,n))}for(;s<o.length;s+=1)o[s].d(1);o.length=t.length}},d(l){oe(o,l),l&&x(n)}}}function Un(e){let n,t;return{c(){n=C("span"),t=B(e[2]),S(n,"class","svelte-1a31dr7"),v(n,"highlight",e[4]===e[2])},m(o,l){V(o,n,l),h(n,t)},p(o,l){l&4&&ue(t,o[2]),l&20&&v(n,"highlight",o[4]===o[2])},d(o){o&&x(n)}}}function Le(e){let n,t=e[7]+"",o;return{c(){n=C("span"),o=B(t),S(n,"class","svelte-1a31dr7"),v(n,"highlight",e[4]===e[7])},m(l,i){V(l,n,i),h(n,o)},p(l,i){i&8&&t!==(t=l[7]+"")&&ue(o,t),i&24&&v(n,"highlight",l[4]===l[7])},d(l){l&&x(n)}}}function $n(e){let n,t,o;function l(u,f){return u[2]?Un:Dn}let i=l(e),s=i(e);return{c(){n=C("div"),s.c(),S(n,"class","svelte-1a31dr7"),v(n,"isSet",e[2]),v(n,"isSelected",e[0]),v(n,"isSiblingSelected",e[1]),v(n,"isLocked",e[5])},m(u,f){V(u,n,f),s.m(n,null),t||(o=z(n,"click",e[6]),t=!0)},p(u,[f]){i===(i=l(u))&&s?s.p(u,f):(s.d(1),s=i(u),s&&(s.c(),s.m(n,null))),f&4&&v(n,"isSet",u[2]),f&1&&v(n,"isSelected",u[0]),f&2&&v(n,"isSiblingSelected",u[1]),f&32&&v(n,"isLocked",u[5])},i:T,o:T,d(u){u&&x(n),s.d(),t=!1,o()}}}function zn(e,n,t){let{isSelected:o}=n,{isSiblingSelected:l}=n,{value:i}=n,{options:s}=n,{numberToHighlight:u}=n,{isLocked:f}=n;function r(c){Nn.call(this,e,c)}return e.$$set=c=>{"isSelected"in c&&t(0,o=c.isSelected),"isSiblingSelected"in c&&t(1,l=c.isSiblingSelected),"value"in c&&t(2,i=c.value),"options"in c&&t(3,s=c.options),"numberToHighlight"in c&&t(4,u=c.numberToHighlight),"isLocked"in c&&t(5,f=c.isLocked)},[o,l,i,s,u,f,r]}class Pn extends Ie{constructor(n){super(),ve(this,n,zn,$n,_e,{isSelected:0,isSiblingSelected:1,value:2,options:3,numberToHighlight:4,isLocked:5})}}const O=[1,2,3,4,5,6,7,8,9],R=0;function nn(){return Array(9).fill("")}function D(e){return JSON.parse(JSON.stringify(e))}function Q(e){return new Set(e).size===e.length}function tn(e){return e.sort((n,t)=>.5-Math.random())}const ke="boardHistory";function Qn(){return localStorage.getItem(ke)!==null}function jn(){const e=localStorage.getItem(ke);return JSON.parse(e)}function Me(e){localStorage.setItem(ke,JSON.stringify(e))}function on(e){let n=ot(e);return Yn(n),me(n),Zn(n)||(n=Kn(n)),dt(n)}function Kn(e){let n=D(e);const t=[];e:for(let o=0;o<O.length;o++)for(let l=0;l<O.length;l++){for(me(n);!re(n);)if(t.length>0){const s=t.pop();n=s.board,o=s.rowIndex,l=s.columnIndex,me(n)}else break e;const i=n.cellRows[o][l];fn(i)||Jn(i,o,l,n,t)}return n}function Jn(e,n,t,o,l){const i=e.options.filter(u=>u!==R);if(i.length<2)throw new Error("Found a cell with less than 2 options, not sure what to do here...");const s=i[Math.floor(Math.random()*i.length)];Xn(s,n,t,o,l),e.onlyOptionValue=s,ln(e,o)}function Xn(e,n,t,o,l){const i=D(o),s=i.cellRows[n][t];s.options[e]=R,s.optionsCount--,s.optionsCount===1&&i.singleOptionCellCoordinates.push({rowIndex:s.rowIndex,columnIndex:s.columnIndex}),sn(e,s,i),l.push({board:i,rowIndex:n,columnIndex:t})}function Yn(e){it(e),ct(e)}function re(e){return!e.hasCellWithNoOptions&&!e.hasCellThatIsOnlyOptionForMultipleValues}function Zn(e){return e.valuesCount===81}function me(e){for(;re(e)&&et(e);)nt(e),ft(e)}function et(e){return e.singleOptionCellCoordinates.length>0||e.onlyOptionCellCoordinates.length>0}function nt(e){for(;e.onlyOptionCellCoordinates.length>0&&re(e);){const n=e.onlyOptionCellCoordinates.shift(),t=e.cellRows[n.rowIndex][n.columnIndex];t.value||ln(t,e)}}function ln(e,n){const t=e.onlyOptionValue;mn(e,t,n);const o=e.options.filter(l=>l!==t&&l!==R);be(e),tt(e,o,n)}function tt(e,n,t){n.forEach(o=>{sn(o,e,t)})}function sn(e,n,t){un(e,n,t),rn(e,n,t),cn(e,n,t)}function un(e,n,t){const o=t.rowsOptionsCounts[n.rowIndex];o[e]--,o[e]===1&&pn(e,n.rowIndex,t)}function rn(e,n,t){const o=t.columnsOptionsCounts[n.columnIndex];o[e]--,o[e]===1&&dn(e,n.columnIndex,t)}function cn(e,n,t){const o=t.squaresOptionsCounts[n.squareIndex];o[e]--,o[e]===1&&an(e,n.squareIndex,t)}function ot(e){const n=()=>Array(O.length+1).fill(0),t=()=>Array(O.length).fill().map(n),o={cellRows:Array(O.length).fill().map(()=>Array()),valuesCount:0,rowsOptionsCounts:t(),columnsOptionsCounts:t(),squaresOptionsCounts:t(),singleOptionCellCoordinates:[],onlyOptionCellCoordinates:[],hasCellWithNoOptions:!1,hasCellThatIsOnlyOptionForMultipleValues:!1};return e.forEach((l,i)=>{l.forEach((s,u)=>{const f=wt(i,u),r=lt(s,i,u,f);s!==R&&(o.valuesCount++,be(r)),o.cellRows[i].push(r)})}),o}function lt(e,n,t,o){return{value:e,rowIndex:n,columnIndex:t,squareIndex:o,optionsCount:0,options:Array(O.length+1).fill(0)}}function it(e){e.cellRows.forEach(n=>{n.forEach(t=>{fn(t)||(st(t,e),t.optionsCount===0&&(e.hasCellWithNoOptions=!0),t.optionsCount===1&&e.singleOptionCellCoordinates.push({rowIndex:t.rowIndex,columnIndex:t.columnIndex}))})})}function fn(e){return e.value!==R}function st(e,n){O.forEach(t=>{ut(t,e,n)&&rt(t,e,n)})}function ut(e,n,t){const o=u=>u.value===e,l=()=>t.cellRows[n.rowIndex].some(o),i=()=>t.cellRows.some(u=>o(u[n.columnIndex])),s=()=>{const u=Ee(n.squareIndex);for(let f=u.minRow;f<=u.maxRow;f++)for(let r=u.minColumn;r<=u.maxColumn;r++)if(o(t.cellRows[f][r]))return!0;return!1};return!l()&&!i()&&!s()}function rt(e,n,t){n.options[e]=e,n.optionsCount++,t.rowsOptionsCounts[n.rowIndex][e]++,t.columnsOptionsCounts[n.columnIndex][e]++,t.squaresOptionsCounts[n.squareIndex][e]++}function ct(e){e.rowsOptionsCounts.forEach((n,t)=>{fe(n,t,e,pn)}),e.columnsOptionsCounts.forEach((n,t)=>{fe(n,t,e,dn)}),e.squaresOptionsCounts.forEach((n,t)=>{fe(n,t,e,an)})}function fe(e,n,t,o){e.forEach((l,i)=>{l===1&&o(i,n,t)})}function an(e,n,t){let o;const l=Ee(n);e:for(let i=l.minRow;i<=l.maxRow;i++)for(let s=l.minColumn;s<=l.maxColumn;s++){const u=t.cellRows[i][s];if(u.options&&u.options.includes(e)){o=u;break e}}xe(e,o,t)}function dn(e,n,t){let o;for(let l=0;l<O.length;l++){const i=t.cellRows[l][n];if(i.options&&i.options.includes(e)){o=i;break}}xe(e,o,t)}function pn(e,n,t){const o=t.cellRows[n].find(l=>l.options&&l.options.includes(e));xe(e,o,t)}function xe(e,n,t){n.optionsCount===1||(n.onlyOptionValue?n.onlyOptionValue!==e&&(t.hasCellThatIsOnlyOptionForMultipleValues=!0):(n.onlyOptionValue=e,t.onlyOptionCellCoordinates.push({rowIndex:n.rowIndex,columnIndex:n.columnIndex})))}function ft(e){for(;e.singleOptionCellCoordinates.length>0&&re(e);){const n=e.singleOptionCellCoordinates.shift(),t=e.cellRows[n.rowIndex][n.columnIndex];t.value||at(t,e)}}function at(e,n){const t=e.options.find(o=>o!==R);mn(e,t,n),be(e)}function be(e){e.options=null,e.optionsCount=0}function mn(e,n,t){e.value=n,t.valuesCount++,mt(e,n,t),pt(e,n,t)}function dt(e){const n=[];return e.cellRows.forEach(t=>{const o=[];t.forEach(l=>{o.push(l.value)}),n.push(o)}),n}function pt(e,n,t){ht(e,t).forEach(l=>{l.options[n]!==R&&(l.options[n]=R,l.optionsCount--,l.optionsCount===1&&t.singleOptionCellCoordinates.push({rowIndex:l.rowIndex,columnIndex:l.columnIndex}),l.optionsCount===0&&(t.hasCellWithNoOptions=!0),l.rowIndex!==e.rowIndex&&un(n,l,t),l.columnIndex!==e.columnIndex&&rn(n,l,t),l.squareIndex!==e.squareIndex&&cn(n,l,t))})}function mt(e,n,t){t.rowsOptionsCounts[e.rowIndex][n]=0,t.columnsOptionsCounts[e.columnIndex][n]=0,t.squaresOptionsCounts[e.squareIndex][n]=0}function ht(e,n){const t=gt(e,n),o=_t(e,n),l=Ct(e,n).filter(i=>i.rowIndex!==e.rowIndex&&i.columnIndex!==e.columnIndex);return[...t,...o,...l]}function gt(e,n){return n.cellRows[e.rowIndex].filter(t=>Ve(t,e))}function _t(e,n){const t=[];return n.cellRows.forEach(o=>{const l=o[e.columnIndex];Ve(l,e)&&t.push(l)}),t}function Ct(e,n){const t=[],o=Ee(e.squareIndex);for(let l=o.minRow;l<=o.maxRow;l++)for(let i=o.minColumn;i<=o.maxColumn;i++){const s=n.cellRows[l][i];Ve(s,e)&&t.push(s)}return t}function Ve(e,n){return e!==n&&e.options}function wt(e,n){const t=[0,0,0,3,3,3,6,6,6],o=[0,0,0,1,1,1,2,2,2],l=t[e],i=o[n];return l+i}function Ee(e){const n=[0,0,0,3,3,3,6,6,6],t=[2,2,2,5,5,5,8,8,8],o=[0,3,6,0,3,6,0,3,6],l=[2,5,8,2,5,8,2,5,8];return{minRow:n[e],maxRow:t[e],minColumn:o[e],maxColumn:l[e]}}function St(){return yt()}function Ot(e){return hn(on(e))}function yt(){const e=Et();return vt(e)}function vt(e){return tn(xt()).forEach(t=>{const o=e[t.row][t.column];e[t.row][t.column]=R,It(e)||(e[t.row][t.column]=o)}),e}function It(e){return kt(e)===1}function kt(e){if(!bt(e))return hn(e)?1:0;const n=2;let t=0;for(let o=0;o<O.length;o++)for(let l=0;l<O.length;l++)if(Vt(e,o,l)){let i=0;const s=tn(Ht(e,o,l));for(let u=0;u<s.length;u++){const f=D(e);if(f[o][l]=s[u],Ot(f)){if(i++,i===n)return i;t=i}}}return t}function xt(){const e=[];return O.forEach((n,t)=>{O.forEach((o,l)=>{e.push({row:t,column:l})})}),e}function bt(e){return e.flat().some(n=>n===R)}function Vt(e,n,t){return e[n][t]===R}function Et(){return on(Tt())}function hn(e){return qt(e)}function Rt(e){return e.flat().every(n=>O.includes(n))}function qt(e){return Rt(e)&&At(e)&&Nt(e)&&Gt(e)}function At(e){return e.every(n=>Q(n))}function Nt(e){return O.every((n,t)=>{const o=gn(e,t);return Q(o)})}function Gt(e){const n=[0,4,7],t=n,o=n;return t.every(l=>o.every(i=>{const s=he(e,l,i);return Q(s)}))}function Tt(){const e=[];for(let n=0;n<O.length;n++){const t=Array(O.length).fill(R);e.push(t)}return e}function Ht(e,n,t,o=!1){const l=Ft(e,n),i=gn(e,t),s=he(e,n,t);if(!o&&Lt(t)&&Mt(n)){const a=he(e,n,8).filter(d=>!l.includes(d)&&!i.includes(d)&&!s.includes(d));if(a.length>0)return a}const u=[...l,...i,...s];return O.filter(r=>!u.includes(r))}function Lt(e){return[3,4,5].includes(e)}function Mt(e){return[1,4,7].includes(e)}function he(e,n,t){const o=[[0,1,2],[3,4,5],[6,7,8]],l=o.find(u=>u.includes(n)),i=o.find(u=>u.includes(t)),s=[];return l.forEach(u=>{i.forEach(f=>{s.push(e[u][f])})}),Re(s)}function gn(e,n){const t=[];for(let o=0;o<O.length;o++)t.push(e[o][n]);return Re(t)}function Ft(e,n){return Re(e[n])}function Re(e){return e.filter(n=>n!==R)}function Fe(){const e=[[1,2,3],[4,5,6],[7,8,9]],n=e,t=e,o=St(),l=[];return n.forEach(i=>{t.forEach(s=>{const u=[];i.forEach(f=>{s.forEach(r=>{u.push(Bt(o,f,r))})}),l.push(u)})}),l}function Bt(e,n,t){const o=qe(n,t),l=Wt(e,n,t);return l!==0&&(o.value=l,o.isLocked=!0),o}function qe(e,n){return{row:e,column:n,value:"",isSelected:!1,isSiblingSelected:!1,options:nn(),isLocked:!1}}function Wt(e,n,t){return e[n-1][t-1]}function Dt(e,n,t){return e.map(o=>o.map(l=>(l.isSelected=l.row===n&&l.column===t,l.isSiblingSelected=_n(l,qe(n,t)),l)))}function _n(e,n){if(e.row===n.row&&e.column===n.column)return!1;const o=e.row===n.row,l=e.column===n.column;return o||l||Ut(e,n)}function Ut(e,n){const t=[[1,2,3],[4,5,6],[7,8,9]],o=t.find(i=>i.includes(e.row)),l=t.find(i=>i.includes(e.column));return o.includes(n.row)&&l.includes(n.column)}function $t(e,n,t){const o=Cn(e);if(!(!o||o.isLocked))return t?Pt(o,n):(o.value=n,o.options=nn(),zt(e,o,n)),e}function zt(e,n,t){const o=t-1;e.forEach(l=>{l.forEach(i=>{_n(i,n)&&(i.options[o]="")})})}function Pt(e,n){const t=n-1;e.options[t]?e.options[t]="":e.options[t]=n}function Qt(e){const n=Cn(e);return n?D(n):qe(0,0)}function Cn(e){return e.flat().find(n=>n.isSelected)}function jt(e){const n=Array(10);for(let t=1;t<=9;t++)n[t]=Kt(e,t);return n}function Kt(e,n){let t=9;return e.forEach(o=>{o.forEach(l=>{l.value===n&&t--})}),t}function Jt(e){return Xt(e)&&Yt(e)&&Zt(e)}function Xt(e){const n=e.flat();for(let t=1;t<=9;t++){const o=n.filter(l=>l.row===t&&l.value>0).map(l=>l.value);if(!Q(o))return!1}return!0}function Yt(e){const n=e.flat();for(let t=1;t<=9;t++){const o=n.filter(l=>l.column===t&&l.value>0).map(l=>l.value);if(!Q(o))return!1}return!0}function Zt(e){return e.forEach(n=>{const t=n.filter(o=>o.value>0);if(!Q(t))return!1}),!0}function Be(e,n,t){const o=e.slice();return o[21]=n[t],o}function We(e,n,t){const o=e.slice();return o[24]=n[t],o[26]=t,o}function De(e,n,t){const o=e.slice();return o[27]=n[t],o[29]=t,o}function eo(e){let n;return{c(){n=C("div"),S(n,"class",Ke(`${wn(e[29])?"horizontal":"vertical"}-divider`)+" svelte-1fy99up")},m(t,o){V(t,n,o)},p:T,d(t){t&&x(n)}}}function Ue(e){let n,t,o=Sn(e[29]),l,i;function s(){return e[11](e[27])}n=new Pn({props:{isSelected:e[27].isSelected,isSiblingSelected:e[27].isSiblingSelected,value:e[27].value,options:e[27].options,numberToHighlight:e[5].value,isLocked:e[27].isLocked}}),n.$on("click",s);let u=o&&eo(e);return{c(){en(n.$$.fragment),t=G(),u&&u.c(),l=we()},m(f,r){Oe(n,f,r),V(f,t,r),u&&u.m(f,r),V(f,l,r),i=!0},p(f,r){e=f;const c={};r&1&&(c.isSelected=e[27].isSelected),r&1&&(c.isSiblingSelected=e[27].isSiblingSelected),r&1&&(c.value=e[27].value),r&1&&(c.options=e[27].options),r&32&&(c.numberToHighlight=e[5].value),r&1&&(c.isLocked=e[27].isLocked),n.$set(c),o&&u.p(e,r)},i(f){i||(A(n.$$.fragment,f),i=!0)},o(f){F(n.$$.fragment,f),i=!1},d(f){ye(n,f),f&&x(t),u&&u.d(f),f&&x(l)}}}function no(e){let n;return{c(){n=C("div"),S(n,"class",Ke(`${wn(e[26])?"horizontal":"vertical"}-divider`)+" svelte-1fy99up")},m(t,o){V(t,n,o)},p:T,d(t){t&&x(n)}}}function $e(e){let n,t,o=Sn(e[26]),l,i,s=e[24],u=[];for(let c=0;c<s.length;c+=1)u[c]=Ue(De(e,s,c));const f=c=>F(u[c],1,1,()=>{u[c]=null});let r=o&&no(e);return{c(){n=C("div");for(let c=0;c<u.length;c+=1)u[c].c();t=G(),r&&r.c(),l=we(),S(n,"class","cell-group svelte-1fy99up")},m(c,a){V(c,n,a);for(let d=0;d<u.length;d+=1)u[d].m(n,null);V(c,t,a),r&&r.m(c,a),V(c,l,a),i=!0},p(c,a){if(a&161){s=c[24];let d;for(d=0;d<s.length;d+=1){const g=De(c,s,d);u[d]?(u[d].p(g,a),A(u[d],1)):(u[d]=Ue(g),u[d].c(),A(u[d],1),u[d].m(n,null))}for(de(),d=s.length;d<u.length;d+=1)f(d);pe()}o&&r.p(c,a)},i(c){if(!i){for(let a=0;a<s.length;a+=1)A(u[a]);i=!0}},o(c){u=u.filter(Boolean);for(let a=0;a<u.length;a+=1)F(u[a]);i=!1},d(c){c&&x(n),oe(u,c),c&&x(t),r&&r.d(c),c&&x(l)}}}function ze(e){let n,t,o=e[21]+"",l,i,s,u=e[4][e[21]]+"",f,r,c,a;function d(){return e[12](e[21])}return{c(){n=C("button"),t=C("div"),l=B(o),i=G(),s=C("div"),f=B(u),S(t,"class","number-input svelte-1fy99up"),n.disabled=r=e[4][e[21]]<=0,S(n,"class","svelte-1fy99up"),v(n,"highlight",e[1]&&e[5].options.includes(e[21]))},m(g,w){V(g,n,w),h(n,t),h(t,l),h(n,i),h(n,s),h(s,f),c||(a=z(n,"click",d),c=!0)},p(g,w){e=g,w&16&&u!==(u=e[4][e[21]]+"")&&ue(f,u),w&16&&r!==(r=e[4][e[21]]<=0)&&(n.disabled=r),w&34&&v(n,"highlight",e[1]&&e[5].options.includes(e[21]))},d(g){g&&x(n),c=!1,a()}}}function Pe(e){let n,t=e[2]?"Is":"Is Not",o,l,i,s;return{c(){n=C("div"),o=B(t),l=B(" Valid!"),S(n,"class","svelte-1fy99up"),v(n,"isValid",e[2])},m(u,f){V(u,n,f),h(n,o),h(n,l),s=!0},p(u,f){(!s||f&4)&&t!==(t=u[2]?"Is":"Is Not")&&ue(o,t),(!s||f&4)&&v(n,"isValid",u[2])},i(u){s||(i&&i.end(1),s=!0)},o(u){i=Fn(n,Wn,{}),s=!1},d(u){u&&x(n),u&&i&&i.end()}}}function to(e){let n,t,o,l,i,s,u,f,r,c,a,d,g,w,q,b,L,$,W,j,Z,H=e[0],_=[];for(let p=0;p<H.length;p+=1)_[p]=$e(We(e,H,p));const E=p=>F(_[p],1,1,()=>{_[p]=null});let N=O,I=[];for(let p=0;p<N.length;p+=1)I[p]=ze(Be(e,N,p));let y=e[3]&&Pe(e);return{c(){n=C("div"),t=C("div");for(let p=0;p<_.length;p+=1)_[p].c();o=G(),l=C("div"),i=C("div");for(let p=0;p<I.length;p+=1)I[p].c();s=G(),u=C("button"),u.textContent="Options Mode",f=G(),r=C("div"),c=C("button"),c.textContent="New Game",a=G(),d=C("button"),d.textContent="Undo",g=G(),w=C("button"),w.textContent="Validate",q=G(),b=C("div"),y&&y.c(),L=G(),$=C("dialog"),$.innerHTML="<p>Generating a new single-solution sudoku with minimal clues.</p>",S(t,"class","board svelte-1fy99up"),S(u,"class","svelte-1fy99up"),v(u,"optionsMode",e[1]),S(i,"class","number-inputs svelte-1fy99up"),S(c,"class","svelte-1fy99up"),S(d,"class","svelte-1fy99up"),S(w,"class","svelte-1fy99up"),S(r,"class","controls svelte-1fy99up"),S(b,"class","validity svelte-1fy99up"),S($,"class","svelte-1fy99up"),S(l,"class","inputs svelte-1fy99up"),S(n,"class","game svelte-1fy99up")},m(p,k){V(p,n,k),h(n,t);for(let m=0;m<_.length;m+=1)_[m].m(t,null);h(n,o),h(n,l),h(l,i);for(let m=0;m<I.length;m+=1)I[m].m(i,null);h(i,s),h(i,u),h(l,f),h(l,r),h(r,c),h(r,a),h(r,d),h(r,g),h(r,w),h(l,q),h(l,b),y&&y.m(b,null),h(l,L),h(l,$),W=!0,j||(Z=[z(u,"click",e[13]),z(c,"click",e[14]),z(d,"click",e[15]),z(w,"click",e[16])],j=!0)},p(p,[k]){if(k&161){H=p[0];let m;for(m=0;m<H.length;m+=1){const K=We(p,H,m);_[m]?(_[m].p(K,k),A(_[m],1)):(_[m]=$e(K),_[m].c(),A(_[m],1),_[m].m(t,null))}for(de(),m=H.length;m<_.length;m+=1)E(m);pe()}if(k&306){N=O;let m;for(m=0;m<N.length;m+=1){const K=Be(p,N,m);I[m]?I[m].p(K,k):(I[m]=ze(K),I[m].c(),I[m].m(i,s))}for(;m<I.length;m+=1)I[m].d(1);I.length=N.length}(!W||k&2)&&v(u,"optionsMode",p[1]),p[3]?y?(y.p(p,k),k&8&&A(y,1)):(y=Pe(p),y.c(),A(y,1),y.m(b,null)):y&&(de(),F(y,1,1,()=>{y=null}),pe())},i(p){if(!W){for(let k=0;k<H.length;k+=1)A(_[k]);A(y),W=!0}},o(p){_=_.filter(Boolean);for(let k=0;k<_.length;k+=1)F(_[k]);F(y),W=!1},d(p){p&&x(n),oe(_,p),oe(I,p),y&&y.d(),j=!1,U(Z)}}}function wn(e){return e===2||e===5}function Sn(e){return e<8}function oo(e,n,t){let o,l,i=[],s=[],u=!1,f=!1,r=!1;c();function c(){Qn()?(s=jn(),t(0,i=D(s.at(-1)))):(t(0,i=Fe()),g())}function a(){const E=document.querySelector("dialog");E.showModal();const N=I=>{setTimeout(()=>E.close(),I)};setTimeout(()=>{d(),N(2e3)},0)}function d(){t(0,i=Fe()),s=[],g()}function g(){s.push(D(i)),Me(s)}function w(E,N){t(0,i=Dt(i,E,N))}function q(E){t(0,i=$t(i,E,u)),g()}function b(){s.length>1&&(s.pop(),Me(s),t(0,i=D(s.at(-1))))}function L(){t(2,f=Jt(i)),t(3,r=!0),setTimeout(()=>t(3,r=!1),2e3)}const $=E=>w(E.row,E.column),W=E=>q(E),j=()=>t(1,u=!u),Z=()=>a(),H=()=>b(),_=()=>L();return e.$$.update=()=>{e.$$.dirty&1&&t(5,o=Qt(i)),e.$$.dirty&1&&t(4,l=jt(i))},[i,u,f,r,l,o,a,w,q,b,L,$,W,j,Z,H,_]}class lo extends Ie{constructor(n){super(),ve(this,n,oo,to,_e,{})}}function io(e){let n,t,o;return t=new lo({}),{c(){n=C("main"),en(t.$$.fragment),S(n,"class","svelte-66lomk")},m(l,i){V(l,n,i),Oe(t,n,null),o=!0},p:T,i(l){o||(A(t.$$.fragment,l),o=!0)},o(l){F(t.$$.fragment,l),o=!1},d(l){l&&x(n),ye(t)}}}class so extends Ie{constructor(n){super(),ve(this,n,null,io,_e,{})}}new so({target:document.getElementById("app")});
