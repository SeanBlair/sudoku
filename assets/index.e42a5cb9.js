(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function t(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerpolicy&&(i.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?i.credentials="include":l.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(l){if(l.ep)return;l.ep=!0;const i=t(l);fetch(l.href,i)}})();function T(){}const Ke=e=>e;function $e(e){return e()}function Ae(){return Object.create(null)}function P(e){e.forEach($e)}function ge(e){return typeof e=="function"}function _e(e,n){return e!=e?n==n:e!==n||e&&typeof e=="object"||typeof e=="function"}function kn(e){return Object.keys(e).length===0}function Je(e){return e==null?"":e}const Xe=typeof window<"u";let yn=Xe?()=>window.performance.now():()=>Date.now(),Ce=Xe?e=>requestAnimationFrame(e):T;const z=new Set;function Ye(e){z.forEach(n=>{n.c(e)||(z.delete(n),n.f())}),z.size!==0&&Ce(Ye)}function xn(e){let n;return z.size===0&&Ce(Ye),{promise:new Promise(t=>{z.add(n={c:e,f:t})}),abort(){z.delete(n)}}}function h(e,n){e.appendChild(n)}function Ze(e){if(!e)return document;const n=e.getRootNode?e.getRootNode():e.ownerDocument;return n&&n.host?n:e.ownerDocument}function bn(e){const n=_("style");return qn(Ze(e),n),n.sheet}function qn(e,n){return h(e.head||e,n),n.sheet}function V(e,n,t){e.insertBefore(n,t||null)}function x(e){e.parentNode&&e.parentNode.removeChild(e)}function le(e,n){for(let t=0;t<e.length;t+=1)e[t]&&e[t].d(n)}function _(e){return document.createElement(e)}function W(e){return document.createTextNode(e)}function N(){return W(" ")}function we(){return W("")}function U(e,n,t,o){return e.addEventListener(n,t,o),()=>e.removeEventListener(n,t,o)}function O(e,n,t){t==null?e.removeAttribute(n):e.getAttribute(n)!==t&&e.setAttribute(n,t)}function Vn(e){return Array.from(e.childNodes)}function re(e,n){n=""+n,e.wholeText!==n&&(e.data=n)}function y(e,n,t){e.classList[t?"add":"remove"](n)}function En(e,n,{bubbles:t=!1,cancelable:o=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(e,t,o,n),l}const ie=new Map;let se=0;function Rn(e){let n=5381,t=e.length;for(;t--;)n=(n<<5)-n^e.charCodeAt(t);return n>>>0}function An(e,n){const t={stylesheet:bn(n),rules:{}};return ie.set(e,t),t}function Nn(e,n,t,o,l,i,s,u=0){const f=16.666/o;let r=`{
`;for(let q=0;q<=1;q+=f){const L=n+(t-n)*i(q);r+=q*100+`%{${s(L,1-L)}}
`}const c=r+`100% {${s(t,1-t)}}
}`,a=`__svelte_${Rn(c)}_${u}`,d=Ze(e),{stylesheet:C,rules:w}=ie.get(d)||An(d,e);w[a]||(w[a]=!0,C.insertRule(`@keyframes ${a} ${c}`,C.cssRules.length));const A=e.style.animation||"";return e.style.animation=`${A?`${A}, `:""}${a} ${o}ms linear ${l}ms 1 both`,se+=1,a}function Gn(e,n){const t=(e.style.animation||"").split(", "),o=t.filter(n?i=>i.indexOf(n)<0:i=>i.indexOf("__svelte")===-1),l=t.length-o.length;l&&(e.style.animation=o.join(", "),se-=l,se||Tn())}function Tn(){Ce(()=>{se||(ie.forEach(e=>{const{ownerNode:n}=e.stylesheet;n&&x(n)}),ie.clear())})}let Se;function X(e){Se=e}function Hn(e,n){const t=e.$$.callbacks[n.type];t&&t.slice().forEach(o=>o.call(this,n))}const J=[],Ne=[],ee=[],Ge=[],Ln=Promise.resolve();let me=!1;function Mn(){me||(me=!0,Ln.then(en))}function ue(e){ee.push(e)}const ae=new Set;let Z=0;function en(){const e=Se;do{for(;Z<J.length;){const n=J[Z];Z++,X(n),Fn(n.$$)}for(X(null),J.length=0,Z=0;Ne.length;)Ne.pop()();for(let n=0;n<ee.length;n+=1){const t=ee[n];ae.has(t)||(ae.add(t),t())}ee.length=0}while(J.length);for(;Ge.length;)Ge.pop()();me=!1,ae.clear(),X(e)}function Fn(e){if(e.fragment!==null){e.update(),P(e.before_update);const n=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,n),e.after_update.forEach(ue)}}let $;function Bn(){return $||($=Promise.resolve(),$.then(()=>{$=null})),$}function Te(e,n,t){e.dispatchEvent(En(`${n?"intro":"outro"}${t}`))}const ne=new Set;let B;function te(){B={r:0,c:[],p:B}}function oe(){B.r||P(B.c),B=B.p}function E(e,n){e&&e.i&&(ne.delete(e),e.i(n))}function G(e,n,t,o){if(e&&e.o){if(ne.has(e))return;ne.add(e),B.c.push(()=>{ne.delete(e),o&&(t&&e.d(1),o())}),e.o(n)}else o&&o()}const Wn={duration:0};function nn(e,n,t){let o=n(e,t),l=!0,i;const s=B;s.r+=1;function u(){const{delay:f=0,duration:r=300,easing:c=Ke,tick:a=T,css:d}=o||Wn;d&&(i=Nn(e,1,0,r,f,c,d));const C=yn()+f,w=C+r;ue(()=>Te(e,!1,"start")),xn(A=>{if(l){if(A>=w)return a(0,1),Te(e,!1,"end"),--s.r||P(s.c),!1;if(A>=C){const q=c((A-C)/r);a(1-q,q)}}return l})}return ge(o)?Bn().then(()=>{o=o(),u()}):u(),{end(f){f&&o.tick&&o.tick(1,0),l&&(i&&Gn(e,i),l=!1)}}}function tn(e){e&&e.c()}function Oe(e,n,t,o){const{fragment:l,after_update:i}=e.$$;l&&l.m(n,t),o||ue(()=>{const s=e.$$.on_mount.map($e).filter(ge);e.$$.on_destroy?e.$$.on_destroy.push(...s):P(s),e.$$.on_mount=[]}),i.forEach(ue)}function ve(e,n){const t=e.$$;t.fragment!==null&&(P(t.on_destroy),t.fragment&&t.fragment.d(n),t.on_destroy=t.fragment=null,t.ctx=[])}function Dn(e,n){e.$$.dirty[0]===-1&&(J.push(e),Mn(),e.$$.dirty.fill(0)),e.$$.dirty[n/31|0]|=1<<n%31}function Ie(e,n,t,o,l,i,s,u=[-1]){const f=Se;X(e);const r=e.$$={fragment:null,ctx:[],props:i,update:T,not_equal:l,bound:Ae(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(f?f.$$.context:[])),callbacks:Ae(),dirty:u,skip_bound:!1,root:n.target||f.$$.root};s&&s(r.root);let c=!1;if(r.ctx=t?t(e,n.props||{},(a,d,...C)=>{const w=C.length?C[0]:d;return r.ctx&&l(r.ctx[a],r.ctx[a]=w)&&(!r.skip_bound&&r.bound[a]&&r.bound[a](w),c&&Dn(e,a)),d}):[],r.update(),c=!0,P(r.before_update),r.fragment=o?o(r.ctx):!1,n.target){if(n.hydrate){const a=Vn(n.target);r.fragment&&r.fragment.l(a),a.forEach(x)}else r.fragment&&r.fragment.c();n.intro&&E(e.$$.fragment),Oe(e,n.target,n.anchor,n.customElement),en()}X(f)}class ke{$destroy(){ve(this,1),this.$destroy=T}$on(n,t){if(!ge(t))return T;const o=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return o.push(t),()=>{const l=o.indexOf(t);l!==-1&&o.splice(l,1)}}$set(n){this.$$set&&!kn(n)&&(this.$$.skip_bound=!0,this.$$set(n),this.$$.skip_bound=!1)}}function on(e,{delay:n=0,duration:t=400,easing:o=Ke}={}){const l=+getComputedStyle(e).opacity;return{delay:n,duration:t,easing:o,css:i=>`opacity: ${i*l}`}}function He(e,n,t){const o=e.slice();return o[7]=n[t],o}function Pn(e){let n,t=e[3],o=[];for(let l=0;l<t.length;l+=1)o[l]=Le(He(e,t,l));return{c(){for(let l=0;l<o.length;l+=1)o[l].c();n=we()},m(l,i){for(let s=0;s<o.length;s+=1)o[s].m(l,i);V(l,n,i)},p(l,i){if(i&24){t=l[3];let s;for(s=0;s<t.length;s+=1){const u=He(l,t,s);o[s]?o[s].p(u,i):(o[s]=Le(u),o[s].c(),o[s].m(n.parentNode,n))}for(;s<o.length;s+=1)o[s].d(1);o.length=t.length}},d(l){le(o,l),l&&x(n)}}}function Un(e){let n,t;return{c(){n=_("span"),t=W(e[2]),O(n,"class","svelte-1a31dr7"),y(n,"highlight",e[4]===e[2])},m(o,l){V(o,n,l),h(n,t)},p(o,l){l&4&&re(t,o[2]),l&20&&y(n,"highlight",o[4]===o[2])},d(o){o&&x(n)}}}function Le(e){let n,t=e[7]+"",o;return{c(){n=_("span"),o=W(t),O(n,"class","svelte-1a31dr7"),y(n,"highlight",e[4]===e[7])},m(l,i){V(l,n,i),h(n,o)},p(l,i){i&8&&t!==(t=l[7]+"")&&re(o,t),i&24&&y(n,"highlight",l[4]===l[7])},d(l){l&&x(n)}}}function zn(e){let n,t,o;function l(u,f){return u[2]?Un:Pn}let i=l(e),s=i(e);return{c(){n=_("div"),s.c(),O(n,"class","svelte-1a31dr7"),y(n,"isSet",e[2]),y(n,"isSelected",e[0]),y(n,"isSiblingSelected",e[1]),y(n,"isLocked",e[5])},m(u,f){V(u,n,f),s.m(n,null),t||(o=U(n,"click",e[6]),t=!0)},p(u,[f]){i===(i=l(u))&&s?s.p(u,f):(s.d(1),s=i(u),s&&(s.c(),s.m(n,null))),f&4&&y(n,"isSet",u[2]),f&1&&y(n,"isSelected",u[0]),f&2&&y(n,"isSiblingSelected",u[1]),f&32&&y(n,"isLocked",u[5])},i:T,o:T,d(u){u&&x(n),s.d(),t=!1,o()}}}function Qn(e,n,t){let{isSelected:o}=n,{isSiblingSelected:l}=n,{value:i}=n,{options:s}=n,{numberToHighlight:u}=n,{isLocked:f}=n;function r(c){Hn.call(this,e,c)}return e.$$set=c=>{"isSelected"in c&&t(0,o=c.isSelected),"isSiblingSelected"in c&&t(1,l=c.isSiblingSelected),"value"in c&&t(2,i=c.value),"options"in c&&t(3,s=c.options),"numberToHighlight"in c&&t(4,u=c.numberToHighlight),"isLocked"in c&&t(5,f=c.isLocked)},[o,l,i,s,u,f,r]}class jn extends ke{constructor(n){super(),Ie(this,n,Qn,zn,_e,{isSelected:0,isSiblingSelected:1,value:2,options:3,numberToHighlight:4,isLocked:5})}}const I=[1,2,3,4,5,6,7,8,9],R=0;function ln(){return Array(9).fill("")}function D(e){return JSON.parse(JSON.stringify(e))}function Q(e){return new Set(e).size===e.length}function sn(e){return e.sort((n,t)=>.5-Math.random())}const ye="boardHistory";function Kn(){return localStorage.getItem(ye)!==null}function $n(){const e=localStorage.getItem(ye);return JSON.parse(e)}function Me(e){localStorage.setItem(ye,JSON.stringify(e))}function un(e){let n=lt(e);return Zn(n),pe(n),et(n)||(n=Jn(n)),mt(n)}function Jn(e){let n=D(e);const t=[];e:for(let o=0;o<I.length;o++)for(let l=0;l<I.length;l++){for(pe(n);!ce(n);)if(t.length>0){const s=t.pop();n=s.board,o=s.rowIndex,l=s.columnIndex,pe(n)}else break e;const i=n.cellRows[o][l];mn(i)||Xn(i,o,l,n,t)}return n}function Xn(e,n,t,o,l){const i=e.options.filter(u=>u!==R);if(i.length<2)throw new Error("Found a cell with less than 2 options, not sure what to do here...");const s=i[Math.floor(Math.random()*i.length)];Yn(s,n,t,o,l),e.onlyOptionValue=s,rn(e,o)}function Yn(e,n,t,o,l){const i=D(o),s=i.cellRows[n][t];s.options[e]=R,s.optionsCount--,s.optionsCount===1&&i.singleOptionCellCoordinates.push({rowIndex:s.rowIndex,columnIndex:s.columnIndex}),cn(e,s,i),l.push({board:i,rowIndex:n,columnIndex:t})}function Zn(e){st(e),ft(e)}function ce(e){return!e.hasCellWithNoOptions&&!e.hasCellThatIsOnlyOptionForMultipleValues}function et(e){return e.valuesCount===81}function pe(e){for(;ce(e)&&nt(e);)tt(e),at(e)}function nt(e){return e.singleOptionCellCoordinates.length>0||e.onlyOptionCellCoordinates.length>0}function tt(e){for(;e.onlyOptionCellCoordinates.length>0&&ce(e);){const n=e.onlyOptionCellCoordinates.shift(),t=e.cellRows[n.rowIndex][n.columnIndex];t.value||rn(t,e)}}function rn(e,n){const t=e.onlyOptionValue;_n(e,t,n);const o=e.options.filter(l=>l!==t&&l!==R);be(e),ot(e,o,n)}function ot(e,n,t){n.forEach(o=>{cn(o,e,t)})}function cn(e,n,t){fn(e,n,t),an(e,n,t),dn(e,n,t)}function fn(e,n,t){const o=t.rowsOptionsCounts[n.rowIndex];o[e]--,o[e]===1&&gn(e,n.rowIndex,t)}function an(e,n,t){const o=t.columnsOptionsCounts[n.columnIndex];o[e]--,o[e]===1&&hn(e,n.columnIndex,t)}function dn(e,n,t){const o=t.squaresOptionsCounts[n.squareIndex];o[e]--,o[e]===1&&pn(e,n.squareIndex,t)}function lt(e){const n=()=>Array(I.length+1).fill(0),t=()=>Array(I.length).fill().map(n),o={cellRows:Array(I.length).fill().map(()=>Array()),valuesCount:0,rowsOptionsCounts:t(),columnsOptionsCounts:t(),squaresOptionsCounts:t(),singleOptionCellCoordinates:[],onlyOptionCellCoordinates:[],hasCellWithNoOptions:!1,hasCellThatIsOnlyOptionForMultipleValues:!1};return e.forEach((l,i)=>{l.forEach((s,u)=>{const f=St(i,u),r=it(s,i,u,f);s!==R&&(o.valuesCount++,be(r)),o.cellRows[i].push(r)})}),o}function it(e,n,t,o){return{value:e,rowIndex:n,columnIndex:t,squareIndex:o,optionsCount:0,options:Array(I.length+1).fill(0)}}function st(e){e.cellRows.forEach(n=>{n.forEach(t=>{mn(t)||(ut(t,e),t.optionsCount===0&&(e.hasCellWithNoOptions=!0),t.optionsCount===1&&e.singleOptionCellCoordinates.push({rowIndex:t.rowIndex,columnIndex:t.columnIndex}))})})}function mn(e){return e.value!==R}function ut(e,n){I.forEach(t=>{rt(t,e,n)&&ct(t,e,n)})}function rt(e,n,t){const o=u=>u.value===e,l=()=>t.cellRows[n.rowIndex].some(o),i=()=>t.cellRows.some(u=>o(u[n.columnIndex])),s=()=>{const u=Ve(n.squareIndex);for(let f=u.minRow;f<=u.maxRow;f++)for(let r=u.minColumn;r<=u.maxColumn;r++)if(o(t.cellRows[f][r]))return!0;return!1};return!l()&&!i()&&!s()}function ct(e,n,t){n.options[e]=e,n.optionsCount++,t.rowsOptionsCounts[n.rowIndex][e]++,t.columnsOptionsCounts[n.columnIndex][e]++,t.squaresOptionsCounts[n.squareIndex][e]++}function ft(e){e.rowsOptionsCounts.forEach((n,t)=>{de(n,t,e,gn)}),e.columnsOptionsCounts.forEach((n,t)=>{de(n,t,e,hn)}),e.squaresOptionsCounts.forEach((n,t)=>{de(n,t,e,pn)})}function de(e,n,t,o){e.forEach((l,i)=>{l===1&&o(i,n,t)})}function pn(e,n,t){let o;const l=Ve(n);e:for(let i=l.minRow;i<=l.maxRow;i++)for(let s=l.minColumn;s<=l.maxColumn;s++){const u=t.cellRows[i][s];if(u.options&&u.options.includes(e)){o=u;break e}}xe(e,o,t)}function hn(e,n,t){let o;for(let l=0;l<I.length;l++){const i=t.cellRows[l][n];if(i.options&&i.options.includes(e)){o=i;break}}xe(e,o,t)}function gn(e,n,t){const o=t.cellRows[n].find(l=>l.options&&l.options.includes(e));xe(e,o,t)}function xe(e,n,t){n.optionsCount===1||(n.onlyOptionValue?n.onlyOptionValue!==e&&(t.hasCellThatIsOnlyOptionForMultipleValues=!0):(n.onlyOptionValue=e,t.onlyOptionCellCoordinates.push({rowIndex:n.rowIndex,columnIndex:n.columnIndex})))}function at(e){for(;e.singleOptionCellCoordinates.length>0&&ce(e);){const n=e.singleOptionCellCoordinates.shift(),t=e.cellRows[n.rowIndex][n.columnIndex];t.value||dt(t,e)}}function dt(e,n){const t=e.options.find(o=>o!==R);_n(e,t,n),be(e)}function be(e){e.options=null,e.optionsCount=0}function _n(e,n,t){e.value=n,t.valuesCount++,ht(e,n,t),pt(e,n,t)}function mt(e){const n=[];return e.cellRows.forEach(t=>{const o=[];t.forEach(l=>{o.push(l.value)}),n.push(o)}),n}function pt(e,n,t){gt(e,t).forEach(l=>{l.options[n]!==R&&(l.options[n]=R,l.optionsCount--,l.optionsCount===1&&t.singleOptionCellCoordinates.push({rowIndex:l.rowIndex,columnIndex:l.columnIndex}),l.optionsCount===0&&(t.hasCellWithNoOptions=!0),l.rowIndex!==e.rowIndex&&fn(n,l,t),l.columnIndex!==e.columnIndex&&an(n,l,t),l.squareIndex!==e.squareIndex&&dn(n,l,t))})}function ht(e,n,t){t.rowsOptionsCounts[e.rowIndex][n]=0,t.columnsOptionsCounts[e.columnIndex][n]=0,t.squaresOptionsCounts[e.squareIndex][n]=0}function gt(e,n){const t=_t(e,n),o=Ct(e,n),l=wt(e,n).filter(i=>i.rowIndex!==e.rowIndex&&i.columnIndex!==e.columnIndex);return[...t,...o,...l]}function _t(e,n){return n.cellRows[e.rowIndex].filter(t=>qe(t,e))}function Ct(e,n){const t=[];return n.cellRows.forEach(o=>{const l=o[e.columnIndex];qe(l,e)&&t.push(l)}),t}function wt(e,n){const t=[],o=Ve(e.squareIndex);for(let l=o.minRow;l<=o.maxRow;l++)for(let i=o.minColumn;i<=o.maxColumn;i++){const s=n.cellRows[l][i];qe(s,e)&&t.push(s)}return t}function qe(e,n){return e!==n&&e.options}function St(e,n){const t=[0,0,0,3,3,3,6,6,6],o=[0,0,0,1,1,1,2,2,2],l=t[e],i=o[n];return l+i}function Ve(e){const n=[0,0,0,3,3,3,6,6,6],t=[2,2,2,5,5,5,8,8,8],o=[0,3,6,0,3,6,0,3,6],l=[2,5,8,2,5,8,2,5,8];return{minRow:n[e],maxRow:t[e],minColumn:o[e],maxColumn:l[e]}}function Ot(){return It()}function vt(e){return Cn(un(e))}function It(){const e=Et();return kt(e)}function kt(e){return sn(bt()).forEach(t=>{const o=e[t.row][t.column];e[t.row][t.column]=R,yt(e)||(e[t.row][t.column]=o)}),e}function yt(e){return xt(e)===1}function xt(e){if(!qt(e))return Cn(e)?1:0;const n=2;let t=0;for(let o=0;o<I.length;o++)for(let l=0;l<I.length;l++)if(Vt(e,o,l)){let i=0;const s=sn(Lt(e,o,l));for(let u=0;u<s.length;u++){const f=D(e);if(f[o][l]=s[u],vt(f)){if(i++,i===n)return i;t=i}}}return t}function bt(){const e=[];return I.forEach((n,t)=>{I.forEach((o,l)=>{e.push({row:t,column:l})})}),e}function qt(e){return e.flat().some(n=>n===R)}function Vt(e,n,t){return e[n][t]===R}function Et(){return un(Ht())}function Cn(e){return At(e)}function Rt(e){return e.flat().every(n=>I.includes(n))}function At(e){return Rt(e)&&Nt(e)&&Gt(e)&&Tt(e)}function Nt(e){return e.every(n=>Q(n))}function Gt(e){return I.every((n,t)=>{const o=wn(e,t);return Q(o)})}function Tt(e){const n=[0,4,7],t=n,o=n;return t.every(l=>o.every(i=>{const s=he(e,l,i);return Q(s)}))}function Ht(){const e=[];for(let n=0;n<I.length;n++){const t=Array(I.length).fill(R);e.push(t)}return e}function Lt(e,n,t,o=!1){const l=Bt(e,n),i=wn(e,t),s=he(e,n,t);if(!o&&Mt(t)&&Ft(n)){const a=he(e,n,8).filter(d=>!l.includes(d)&&!i.includes(d)&&!s.includes(d));if(a.length>0)return a}const u=[...l,...i,...s];return I.filter(r=>!u.includes(r))}function Mt(e){return[3,4,5].includes(e)}function Ft(e){return[1,4,7].includes(e)}function he(e,n,t){const o=[[0,1,2],[3,4,5],[6,7,8]],l=o.find(u=>u.includes(n)),i=o.find(u=>u.includes(t)),s=[];return l.forEach(u=>{i.forEach(f=>{s.push(e[u][f])})}),Ee(s)}function wn(e,n){const t=[];for(let o=0;o<I.length;o++)t.push(e[o][n]);return Ee(t)}function Bt(e,n){return Ee(e[n])}function Ee(e){return e.filter(n=>n!==R)}function Fe(){const e=[[1,2,3],[4,5,6],[7,8,9]],n=e,t=e,o=Ot(),l=[];return n.forEach(i=>{t.forEach(s=>{const u=[];i.forEach(f=>{s.forEach(r=>{u.push(Wt(o,f,r))})}),l.push(u)})}),l}function Wt(e,n,t){const o=Re(n,t),l=Dt(e,n,t);return l!==0&&(o.value=l,o.isLocked=!0),o}function Re(e,n){return{row:e,column:n,value:"",isSelected:!1,isSiblingSelected:!1,options:ln(),isLocked:!1}}function Dt(e,n,t){return e[n-1][t-1]}function Pt(e,n,t){return e.map(o=>o.map(l=>(l.isSelected=l.row===n&&l.column===t,l.isSiblingSelected=Sn(l,Re(n,t)),l)))}function Sn(e,n){if(e.row===n.row&&e.column===n.column)return!1;const o=e.row===n.row,l=e.column===n.column;return o||l||Ut(e,n)}function Ut(e,n){const t=[[1,2,3],[4,5,6],[7,8,9]],o=t.find(i=>i.includes(e.row)),l=t.find(i=>i.includes(e.column));return o.includes(n.row)&&l.includes(n.column)}function zt(e,n,t){const o=On(e);if(!(!o||o.isLocked))return t?jt(o,n):(o.value=n,o.options=ln(),Qt(e,o,n)),e}function Qt(e,n,t){const o=t-1;e.forEach(l=>{l.forEach(i=>{Sn(i,n)&&(i.options[o]="")})})}function jt(e,n){const t=n-1;e.options[t]?e.options[t]="":e.options[t]=n}function Kt(e){const n=On(e);return n?D(n):Re(0,0)}function On(e){return e.flat().find(n=>n.isSelected)}function $t(e){const n=Array(10);for(let t=1;t<=9;t++)n[t]=Jt(e,t);return n}function Jt(e,n){let t=9;return e.forEach(o=>{o.forEach(l=>{l.value===n&&t--})}),t}function Xt(e){return Yt(e)&&Zt(e)&&eo(e)}function Yt(e){const n=e.flat();for(let t=1;t<=9;t++){const o=n.filter(l=>l.row===t&&l.value>0).map(l=>l.value);if(!Q(o))return!1}return!0}function Zt(e){const n=e.flat();for(let t=1;t<=9;t++){const o=n.filter(l=>l.column===t&&l.value>0).map(l=>l.value);if(!Q(o))return!1}return!0}function eo(e){return e.forEach(n=>{const t=n.filter(o=>o.value>0);if(!Q(t))return!1}),!0}function Be(e,n,t){const o=e.slice();return o[22]=n[t],o}function We(e,n,t){const o=e.slice();return o[25]=n[t],o[27]=t,o}function De(e,n,t){const o=e.slice();return o[28]=n[t],o[30]=t,o}function no(e){let n;return{c(){n=_("div"),O(n,"class",Je(`${vn(e[30])?"horizontal":"vertical"}-divider`)+" svelte-1e04qkt")},m(t,o){V(t,n,o)},p:T,d(t){t&&x(n)}}}function Pe(e){let n,t,o=In(e[30]),l,i;function s(){return e[12](e[28])}n=new jn({props:{isSelected:e[28].isSelected,isSiblingSelected:e[28].isSiblingSelected,value:e[28].value,options:e[28].options,numberToHighlight:e[6].value,isLocked:e[28].isLocked}}),n.$on("click",s);let u=o&&no(e);return{c(){tn(n.$$.fragment),t=N(),u&&u.c(),l=we()},m(f,r){Oe(n,f,r),V(f,t,r),u&&u.m(f,r),V(f,l,r),i=!0},p(f,r){e=f;const c={};r&1&&(c.isSelected=e[28].isSelected),r&1&&(c.isSiblingSelected=e[28].isSiblingSelected),r&1&&(c.value=e[28].value),r&1&&(c.options=e[28].options),r&64&&(c.numberToHighlight=e[6].value),r&1&&(c.isLocked=e[28].isLocked),n.$set(c),o&&u.p(e,r)},i(f){i||(E(n.$$.fragment,f),i=!0)},o(f){G(n.$$.fragment,f),i=!1},d(f){ve(n,f),f&&x(t),u&&u.d(f),f&&x(l)}}}function to(e){let n;return{c(){n=_("div"),O(n,"class",Je(`${vn(e[27])?"horizontal":"vertical"}-divider`)+" svelte-1e04qkt")},m(t,o){V(t,n,o)},p:T,d(t){t&&x(n)}}}function Ue(e){let n,t,o=In(e[27]),l,i,s=e[25],u=[];for(let c=0;c<s.length;c+=1)u[c]=Pe(De(e,s,c));const f=c=>G(u[c],1,1,()=>{u[c]=null});let r=o&&to(e);return{c(){n=_("div");for(let c=0;c<u.length;c+=1)u[c].c();t=N(),r&&r.c(),l=we(),O(n,"class","cell-group svelte-1e04qkt")},m(c,a){V(c,n,a);for(let d=0;d<u.length;d+=1)u[d].m(n,null);V(c,t,a),r&&r.m(c,a),V(c,l,a),i=!0},p(c,a){if(a&321){s=c[25];let d;for(d=0;d<s.length;d+=1){const C=De(c,s,d);u[d]?(u[d].p(C,a),E(u[d],1)):(u[d]=Pe(C),u[d].c(),E(u[d],1),u[d].m(n,null))}for(te(),d=s.length;d<u.length;d+=1)f(d);oe()}o&&r.p(c,a)},i(c){if(!i){for(let a=0;a<s.length;a+=1)E(u[a]);i=!0}},o(c){u=u.filter(Boolean);for(let a=0;a<u.length;a+=1)G(u[a]);i=!1},d(c){c&&x(n),le(u,c),c&&x(t),r&&r.d(c),c&&x(l)}}}function ze(e){let n,t,o=e[22]+"",l,i,s,u=e[5][e[22]]+"",f,r,c,a;function d(){return e[13](e[22])}return{c(){n=_("button"),t=_("div"),l=W(o),i=N(),s=_("div"),f=W(u),O(t,"class","number-input svelte-1e04qkt"),n.disabled=r=e[5][e[22]]<=0,O(n,"class","svelte-1e04qkt"),y(n,"highlight",e[1]&&e[6].options.includes(e[22]))},m(C,w){V(C,n,w),h(n,t),h(t,l),h(n,i),h(n,s),h(s,f),c||(a=U(n,"click",d),c=!0)},p(C,w){e=C,w&32&&u!==(u=e[5][e[22]]+"")&&re(f,u),w&32&&r!==(r=e[5][e[22]]<=0)&&(n.disabled=r),w&66&&y(n,"highlight",e[1]&&e[6].options.includes(e[22]))},d(C){C&&x(n),c=!1,a()}}}function Qe(e){let n,t=e[2]?"Is":"Is Not",o,l,i,s;return{c(){n=_("div"),o=W(t),l=W(" Valid!"),O(n,"class","svelte-1e04qkt"),y(n,"isValid",e[2])},m(u,f){V(u,n,f),h(n,o),h(n,l),s=!0},p(u,f){(!s||f&4)&&t!==(t=u[2]?"Is":"Is Not")&&re(o,t),(!s||f&4)&&y(n,"isValid",u[2])},i(u){s||(i&&i.end(1),s=!0)},o(u){i=nn(n,on,{}),s=!1},d(u){u&&x(n),u&&i&&i.end()}}}function je(e){let n,t,o,l;return{c(){n=_("div"),t=_("dialog"),t.innerHTML="<p>Generating a new random single-solution sudoku with minimal clues.</p>",t.open=!0,O(t,"class","svelte-1e04qkt"),O(n,"class","dialog-container svelte-1e04qkt")},m(i,s){V(i,n,s),h(n,t),l=!0},i(i){l||(o&&o.end(1),l=!0)},o(i){o=nn(t,on,{}),l=!1},d(i){i&&x(n),i&&o&&o.end()}}}function oo(e){let n,t,o,l,i,s,u,f,r,c,a,d,C,w,A,q,L,M,j,Y,H=e[0],S=[];for(let m=0;m<H.length;m+=1)S[m]=Ue(We(e,H,m));const fe=m=>G(S[m],1,1,()=>{S[m]=null});let F=I,g=[];for(let m=0;m<F.length;m+=1)g[m]=ze(Be(e,F,m));let v=e[3]&&Qe(e),b=e[4]&&je();return{c(){n=_("div"),t=_("div");for(let m=0;m<S.length;m+=1)S[m].c();o=N(),l=_("div"),i=_("div");for(let m=0;m<g.length;m+=1)g[m].c();s=N(),u=_("button"),u.textContent="Options Mode",f=N(),r=_("div"),c=_("button"),c.textContent="New Game",a=N(),d=_("button"),d.textContent="Undo",C=N(),w=_("button"),w.textContent="Validate",A=N(),q=_("div"),v&&v.c(),L=N(),b&&b.c(),O(t,"class","board svelte-1e04qkt"),O(u,"class","svelte-1e04qkt"),y(u,"optionsMode",e[1]),O(i,"class","number-inputs svelte-1e04qkt"),O(c,"class","svelte-1e04qkt"),O(d,"class","svelte-1e04qkt"),O(w,"class","svelte-1e04qkt"),O(r,"class","controls svelte-1e04qkt"),O(q,"class","validity svelte-1e04qkt"),O(l,"class","inputs svelte-1e04qkt"),O(n,"class","game svelte-1e04qkt")},m(m,k){V(m,n,k),h(n,t);for(let p=0;p<S.length;p+=1)S[p].m(t,null);h(n,o),h(n,l),h(l,i);for(let p=0;p<g.length;p+=1)g[p].m(i,null);h(i,s),h(i,u),h(l,f),h(l,r),h(r,c),h(r,a),h(r,d),h(r,C),h(r,w),h(l,A),h(l,q),v&&v.m(q,null),h(l,L),b&&b.m(l,null),M=!0,j||(Y=[U(u,"click",e[14]),U(c,"click",e[15]),U(d,"click",e[16]),U(w,"click",e[17])],j=!0)},p(m,[k]){if(k&321){H=m[0];let p;for(p=0;p<H.length;p+=1){const K=We(m,H,p);S[p]?(S[p].p(K,k),E(S[p],1)):(S[p]=Ue(K),S[p].c(),E(S[p],1),S[p].m(t,null))}for(te(),p=H.length;p<S.length;p+=1)fe(p);oe()}if(k&610){F=I;let p;for(p=0;p<F.length;p+=1){const K=Be(m,F,p);g[p]?g[p].p(K,k):(g[p]=ze(K),g[p].c(),g[p].m(i,s))}for(;p<g.length;p+=1)g[p].d(1);g.length=F.length}(!M||k&2)&&y(u,"optionsMode",m[1]),m[3]?v?(v.p(m,k),k&8&&E(v,1)):(v=Qe(m),v.c(),E(v,1),v.m(q,null)):v&&(te(),G(v,1,1,()=>{v=null}),oe()),m[4]?b?k&16&&E(b,1):(b=je(),b.c(),E(b,1),b.m(l,null)):b&&(te(),G(b,1,1,()=>{b=null}),oe())},i(m){if(!M){for(let k=0;k<H.length;k+=1)E(S[k]);E(v),E(b),M=!0}},o(m){S=S.filter(Boolean);for(let k=0;k<S.length;k+=1)G(S[k]);G(v),G(b),M=!1},d(m){m&&x(n),le(S,m),le(g,m),v&&v.d(),b&&b.d(),j=!1,P(Y)}}}function vn(e){return e===2||e===5}function In(e){return e<8}function lo(e,n,t){let o,l,i=[],s=[],u=!1,f=!1,r=!1,c=!1;a();function a(){Kn()?(s=$n(),t(0,i=D(s.at(-1)))):(t(0,i=Fe()),w())}function d(){t(4,c=!0);const g=()=>{C(),setTimeout(()=>t(4,c=!1),1e3)};setTimeout(()=>g(),0)}function C(){t(0,i=Fe()),s=[],w()}function w(){s.push(D(i)),Me(s)}function A(g,v){t(0,i=Pt(i,g,v))}function q(g){t(0,i=zt(i,g,u)),w()}function L(){s.length>1&&(s.pop(),Me(s),t(0,i=D(s.at(-1))))}function M(){t(2,f=Xt(i)),t(3,r=!0),setTimeout(()=>t(3,r=!1),2e3)}const j=g=>A(g.row,g.column),Y=g=>q(g),H=()=>t(1,u=!u),S=()=>d(),fe=()=>L(),F=()=>M();return e.$$.update=()=>{e.$$.dirty&1&&t(6,o=Kt(i)),e.$$.dirty&1&&t(5,l=$t(i))},[i,u,f,r,c,l,o,d,A,q,L,M,j,Y,H,S,fe,F]}class io extends ke{constructor(n){super(),Ie(this,n,lo,oo,_e,{})}}function so(e){let n,t,o;return t=new io({}),{c(){n=_("main"),tn(t.$$.fragment),O(n,"class","svelte-66lomk")},m(l,i){V(l,n,i),Oe(t,n,null),o=!0},p:T,i(l){o||(E(t.$$.fragment,l),o=!0)},o(l){G(t.$$.fragment,l),o=!1},d(l){l&&x(n),ve(t)}}}class uo extends ke{constructor(n){super(),Ie(this,n,null,so,_e,{})}}new uo({target:document.getElementById("app")});
